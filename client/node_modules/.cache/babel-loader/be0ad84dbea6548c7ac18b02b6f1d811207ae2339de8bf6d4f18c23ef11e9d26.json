{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { validateAndGetMessage } from '../utils';\nimport { useChannelActionContext } from '../../../context/ChannelActionContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport var useDeleteHandler = function (message, notifications) {\n  if (notifications === void 0) {\n    notifications = {};\n  }\n  var getErrorNotification = notifications.getErrorNotification,\n    notify = notifications.notify;\n  var _a = useChannelActionContext('useDeleteHandler'),\n    deleteMessage = _a.deleteMessage,\n    updateMessage = _a.updateMessage;\n  var client = useChatContext('useDeleteHandler').client;\n  var t = useTranslationContext('useDeleteHandler').t;\n  return function (event) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var deletedMessage, e_1, errorMessage;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            event.preventDefault();\n            if (!(message === null || message === void 0 ? void 0 : message.id) || !client || !updateMessage) {\n              return [2 /*return*/];\n            }\n            _a.label = 1;\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n            return [4 /*yield*/, deleteMessage(message)];\n          case 2:\n            deletedMessage = _a.sent();\n            updateMessage(deletedMessage);\n            return [3 /*break*/, 4];\n          case 3:\n            e_1 = _a.sent();\n            errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message]);\n            if (notify) notify(errorMessage || t('Error deleting message'), 'error');\n            return [3 /*break*/, 4];\n          case 4:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n};","map":{"version":3,"names":["__awaiter","__generator","validateAndGetMessage","useChannelActionContext","useChatContext","useTranslationContext","useDeleteHandler","message","notifications","getErrorNotification","notify","_a","deleteMessage","updateMessage","client","t","event","deletedMessage","e_1","errorMessage","label","preventDefault","id","trys","push","sent"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Message/hooks/useDeleteHandler.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { validateAndGetMessage } from '../utils';\nimport { useChannelActionContext } from '../../../context/ChannelActionContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context/TranslationContext';\nexport var useDeleteHandler = function (message, notifications) {\n    if (notifications === void 0) { notifications = {}; }\n    var getErrorNotification = notifications.getErrorNotification, notify = notifications.notify;\n    var _a = useChannelActionContext('useDeleteHandler'), deleteMessage = _a.deleteMessage, updateMessage = _a.updateMessage;\n    var client = useChatContext('useDeleteHandler').client;\n    var t = useTranslationContext('useDeleteHandler').t;\n    return function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        var deletedMessage, e_1, errorMessage;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    event.preventDefault();\n                    if (!(message === null || message === void 0 ? void 0 : message.id) || !client || !updateMessage) {\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, deleteMessage(message)];\n                case 2:\n                    deletedMessage = _a.sent();\n                    updateMessage(deletedMessage);\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_1 = _a.sent();\n                    errorMessage = getErrorNotification && validateAndGetMessage(getErrorNotification, [message]);\n                    if (notify)\n                        notify(errorMessage || t('Error deleting message'), 'error');\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,SAASC,qBAAqB,QAAQ,UAAU;AAChD,SAASC,uBAAuB,QAAQ,uCAAuC;AAC/E,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,qBAAqB,QAAQ,qCAAqC;AAC3E,OAAO,IAAIC,gBAAgB,GAAG,SAAAA,CAAUC,OAAO,EAAEC,aAAa,EAAE;EAC5D,IAAIA,aAAa,KAAK,KAAK,CAAC,EAAE;IAAEA,aAAa,GAAG,CAAC,CAAC;EAAE;EACpD,IAAIC,oBAAoB,GAAGD,aAAa,CAACC,oBAAoB;IAAEC,MAAM,GAAGF,aAAa,CAACE,MAAM;EAC5F,IAAIC,EAAE,GAAGR,uBAAuB,CAAC,kBAAkB,CAAC;IAAES,aAAa,GAAGD,EAAE,CAACC,aAAa;IAAEC,aAAa,GAAGF,EAAE,CAACE,aAAa;EACxH,IAAIC,MAAM,GAAGV,cAAc,CAAC,kBAAkB,CAAC,CAACU,MAAM;EACtD,IAAIC,CAAC,GAAGV,qBAAqB,CAAC,kBAAkB,CAAC,CAACU,CAAC;EACnD,OAAO,UAAUC,KAAK,EAAE;IAAE,OAAOhB,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;MAC3E,IAAIiB,cAAc,EAAEC,GAAG,EAAEC,YAAY;MACrC,OAAOlB,WAAW,CAAC,IAAI,EAAE,UAAUU,EAAE,EAAE;QACnC,QAAQA,EAAE,CAACS,KAAK;UACZ,KAAK,CAAC;YACFJ,KAAK,CAACK,cAAc,CAAC,CAAC;YACtB,IAAI,EAAEd,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACe,EAAE,CAAC,IAAI,CAACR,MAAM,IAAI,CAACD,aAAa,EAAE;cAC9F,OAAO,CAAC,CAAC,CAAC,WAAW;YACzB;YACAF,EAAE,CAACS,KAAK,GAAG,CAAC;UAChB,KAAK,CAAC;YACFT,EAAE,CAACY,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAI,CAAC,CAAC,CAAC;YACzB,OAAO,CAAC,CAAC,CAAC,WAAWZ,aAAa,CAACL,OAAO,CAAC,CAAC;UAChD,KAAK,CAAC;YACFU,cAAc,GAAGN,EAAE,CAACc,IAAI,CAAC,CAAC;YAC1BZ,aAAa,CAACI,cAAc,CAAC;YAC7B,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC3B,KAAK,CAAC;YACFC,GAAG,GAAGP,EAAE,CAACc,IAAI,CAAC,CAAC;YACfN,YAAY,GAAGV,oBAAoB,IAAIP,qBAAqB,CAACO,oBAAoB,EAAE,CAACF,OAAO,CAAC,CAAC;YAC7F,IAAIG,MAAM,EACNA,MAAM,CAACS,YAAY,IAAIJ,CAAC,CAAC,wBAAwB,CAAC,EAAE,OAAO,CAAC;YAChE,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;UAC3B,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC,WAAW;QACjC;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EAAE,CAAC;AACT,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}