{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { StreamChat } from 'stream-chat';\n/**\n * React hook to create, connect and return `StreamChat` client.\n */\nexport var useCreateChatClient = function (_a) {\n  var apiKey = _a.apiKey,\n    tokenOrProvider = _a.tokenOrProvider,\n    userData = _a.userData;\n  var _b = useState(null),\n    chatClient = _b[0],\n    setChatClient = _b[1];\n  var _c = useState(userData),\n    cachedUserData = _c[0],\n    setCachedUserData = _c[1];\n  if (userData.id !== cachedUserData.id) {\n    setCachedUserData(userData);\n  }\n  useEffect(function () {\n    var client = new StreamChat(apiKey);\n    var didUserConnectInterrupt = false;\n    var connectionPromise = client.connectUser(cachedUserData, tokenOrProvider).then(function () {\n      if (!didUserConnectInterrupt) setChatClient(client);\n    });\n    return function () {\n      didUserConnectInterrupt = true;\n      setChatClient(null);\n      connectionPromise.then(function () {\n        return client.disconnectUser();\n      }).then(function () {\n        console.log(\"Connection for user \\\"\".concat(cachedUserData.id, \"\\\" has been closed\"));\n      });\n    };\n  }, [apiKey, cachedUserData, tokenOrProvider]);\n  return chatClient;\n};","map":{"version":3,"names":["useEffect","useState","StreamChat","useCreateChatClient","_a","apiKey","tokenOrProvider","userData","_b","chatClient","setChatClient","_c","cachedUserData","setCachedUserData","id","client","didUserConnectInterrupt","connectionPromise","connectUser","then","disconnectUser","console","log","concat"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Chat/hooks/useCreateChatClient.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { StreamChat, } from 'stream-chat';\n/**\n * React hook to create, connect and return `StreamChat` client.\n */\nexport var useCreateChatClient = function (_a) {\n    var apiKey = _a.apiKey, tokenOrProvider = _a.tokenOrProvider, userData = _a.userData;\n    var _b = useState(null), chatClient = _b[0], setChatClient = _b[1];\n    var _c = useState(userData), cachedUserData = _c[0], setCachedUserData = _c[1];\n    if (userData.id !== cachedUserData.id) {\n        setCachedUserData(userData);\n    }\n    useEffect(function () {\n        var client = new StreamChat(apiKey);\n        var didUserConnectInterrupt = false;\n        var connectionPromise = client.connectUser(cachedUserData, tokenOrProvider).then(function () {\n            if (!didUserConnectInterrupt)\n                setChatClient(client);\n        });\n        return function () {\n            didUserConnectInterrupt = true;\n            setChatClient(null);\n            connectionPromise\n                .then(function () { return client.disconnectUser(); })\n                .then(function () {\n                console.log(\"Connection for user \\\"\".concat(cachedUserData.id, \"\\\" has been closed\"));\n            });\n        };\n    }, [apiKey, cachedUserData, tokenOrProvider]);\n    return chatClient;\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,UAAU,QAAS,aAAa;AACzC;AACA;AACA;AACA,OAAO,IAAIC,mBAAmB,GAAG,SAAAA,CAAUC,EAAE,EAAE;EAC3C,IAAIC,MAAM,GAAGD,EAAE,CAACC,MAAM;IAAEC,eAAe,GAAGF,EAAE,CAACE,eAAe;IAAEC,QAAQ,GAAGH,EAAE,CAACG,QAAQ;EACpF,IAAIC,EAAE,GAAGP,QAAQ,CAAC,IAAI,CAAC;IAAEQ,UAAU,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,aAAa,GAAGF,EAAE,CAAC,CAAC,CAAC;EAClE,IAAIG,EAAE,GAAGV,QAAQ,CAACM,QAAQ,CAAC;IAAEK,cAAc,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,iBAAiB,GAAGF,EAAE,CAAC,CAAC,CAAC;EAC9E,IAAIJ,QAAQ,CAACO,EAAE,KAAKF,cAAc,CAACE,EAAE,EAAE;IACnCD,iBAAiB,CAACN,QAAQ,CAAC;EAC/B;EACAP,SAAS,CAAC,YAAY;IAClB,IAAIe,MAAM,GAAG,IAAIb,UAAU,CAACG,MAAM,CAAC;IACnC,IAAIW,uBAAuB,GAAG,KAAK;IACnC,IAAIC,iBAAiB,GAAGF,MAAM,CAACG,WAAW,CAACN,cAAc,EAAEN,eAAe,CAAC,CAACa,IAAI,CAAC,YAAY;MACzF,IAAI,CAACH,uBAAuB,EACxBN,aAAa,CAACK,MAAM,CAAC;IAC7B,CAAC,CAAC;IACF,OAAO,YAAY;MACfC,uBAAuB,GAAG,IAAI;MAC9BN,aAAa,CAAC,IAAI,CAAC;MACnBO,iBAAiB,CACZE,IAAI,CAAC,YAAY;QAAE,OAAOJ,MAAM,CAACK,cAAc,CAAC,CAAC;MAAE,CAAC,CAAC,CACrDD,IAAI,CAAC,YAAY;QAClBE,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAACC,MAAM,CAACX,cAAc,CAACE,EAAE,EAAE,oBAAoB,CAAC,CAAC;MACzF,CAAC,CAAC;IACN,CAAC;EACL,CAAC,EAAE,CAACT,MAAM,EAAEO,cAAc,EAAEN,eAAe,CAAC,CAAC;EAC7C,OAAOG,UAAU;AACrB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}