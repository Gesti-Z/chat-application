{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport { nanoid } from 'nanoid';\nexport var makeAddNotifications = function (setNotifications, notificationTimeouts) {\n  return function (text, type) {\n    if (typeof text !== 'string' || type !== 'success' && type !== 'error') {\n      return;\n    }\n    var id = nanoid();\n    setNotifications(function (prevNotifications) {\n      return __spreadArray(__spreadArray([], prevNotifications, true), [{\n        id: id,\n        text: text,\n        type: type\n      }], false);\n    });\n    var timeout = setTimeout(function () {\n      return setNotifications(function (prevNotifications) {\n        return prevNotifications.filter(function (notification) {\n          return notification.id !== id;\n        });\n      });\n    }, 5000);\n    notificationTimeouts.push(timeout);\n  };\n};\n/**\n * Utility function for jumpToFirstUnreadMessage\n * @param targetId\n * @param msgSet\n */\nexport var findInMsgSetById = function (targetId, msgSet) {\n  for (var i = msgSet.length - 1; i >= 0; i--) {\n    var item = msgSet[i];\n    if (item.id === targetId) {\n      return {\n        index: i,\n        target: item\n      };\n    }\n  }\n  return {\n    index: -1\n  };\n};\n/**\n * Utility function for jumpToFirstUnreadMessage\n * @param targetDate\n * @param msgSet\n * @param exact\n */\nexport var findInMsgSetByDate = function (targetDate, msgSet, exact) {\n  var _a, _b;\n  if (exact === void 0) {\n    exact = false;\n  }\n  var targetTimestamp = targetDate.getTime();\n  var left = 0;\n  var middle = 0;\n  var right = msgSet.length - 1;\n  while (left <= right) {\n    middle = Math.floor((right + left) / 2);\n    var middleTimestamp = new Date(msgSet[middle].created_at).getTime();\n    var middleLeftTimestamp = ((_a = msgSet[middle - 1]) === null || _a === void 0 ? void 0 : _a.created_at) && new Date(msgSet[middle - 1].created_at).getTime();\n    var middleRightTimestamp = ((_b = msgSet[middle + 1]) === null || _b === void 0 ? void 0 : _b.created_at) && new Date(msgSet[middle + 1].created_at).getTime();\n    if (middleTimestamp === targetTimestamp || middleLeftTimestamp && middleRightTimestamp && middleLeftTimestamp < targetTimestamp && targetTimestamp < middleRightTimestamp) {\n      return {\n        index: middle,\n        target: msgSet[middle]\n      };\n    }\n    if (middleTimestamp < targetTimestamp) left = middle + 1;else right = middle - 1;\n  }\n  if (!exact || new Date(msgSet[left].created_at).getTime() === targetTimestamp) {\n    return {\n      index: left,\n      target: msgSet[left]\n    };\n  }\n  return {\n    index: -1\n  };\n};","map":{"version":3,"names":["__spreadArray","nanoid","makeAddNotifications","setNotifications","notificationTimeouts","text","type","id","prevNotifications","timeout","setTimeout","filter","notification","push","findInMsgSetById","targetId","msgSet","i","length","item","index","target","findInMsgSetByDate","targetDate","exact","_a","_b","targetTimestamp","getTime","left","middle","right","Math","floor","middleTimestamp","Date","created_at","middleLeftTimestamp","middleRightTimestamp"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Channel/utils.js"],"sourcesContent":["import { __spreadArray } from \"tslib\";\nimport { nanoid } from 'nanoid';\nexport var makeAddNotifications = function (setNotifications, notificationTimeouts) { return function (text, type) {\n    if (typeof text !== 'string' || (type !== 'success' && type !== 'error')) {\n        return;\n    }\n    var id = nanoid();\n    setNotifications(function (prevNotifications) { return __spreadArray(__spreadArray([], prevNotifications, true), [{ id: id, text: text, type: type }], false); });\n    var timeout = setTimeout(function () {\n        return setNotifications(function (prevNotifications) {\n            return prevNotifications.filter(function (notification) { return notification.id !== id; });\n        });\n    }, 5000);\n    notificationTimeouts.push(timeout);\n}; };\n/**\n * Utility function for jumpToFirstUnreadMessage\n * @param targetId\n * @param msgSet\n */\nexport var findInMsgSetById = function (targetId, msgSet) {\n    for (var i = msgSet.length - 1; i >= 0; i--) {\n        var item = msgSet[i];\n        if (item.id === targetId) {\n            return {\n                index: i,\n                target: item,\n            };\n        }\n    }\n    return {\n        index: -1,\n    };\n};\n/**\n * Utility function for jumpToFirstUnreadMessage\n * @param targetDate\n * @param msgSet\n * @param exact\n */\nexport var findInMsgSetByDate = function (targetDate, msgSet, exact) {\n    var _a, _b;\n    if (exact === void 0) { exact = false; }\n    var targetTimestamp = targetDate.getTime();\n    var left = 0;\n    var middle = 0;\n    var right = msgSet.length - 1;\n    while (left <= right) {\n        middle = Math.floor((right + left) / 2);\n        var middleTimestamp = new Date(msgSet[middle].created_at).getTime();\n        var middleLeftTimestamp = ((_a = msgSet[middle - 1]) === null || _a === void 0 ? void 0 : _a.created_at) &&\n            new Date(msgSet[middle - 1].created_at).getTime();\n        var middleRightTimestamp = ((_b = msgSet[middle + 1]) === null || _b === void 0 ? void 0 : _b.created_at) &&\n            new Date(msgSet[middle + 1].created_at).getTime();\n        if (middleTimestamp === targetTimestamp ||\n            (middleLeftTimestamp &&\n                middleRightTimestamp &&\n                middleLeftTimestamp < targetTimestamp &&\n                targetTimestamp < middleRightTimestamp)) {\n            return { index: middle, target: msgSet[middle] };\n        }\n        if (middleTimestamp < targetTimestamp)\n            left = middle + 1;\n        else\n            right = middle - 1;\n    }\n    if (!exact || new Date(msgSet[left].created_at).getTime() === targetTimestamp) {\n        return { index: left, target: msgSet[left] };\n    }\n    return { index: -1 };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}