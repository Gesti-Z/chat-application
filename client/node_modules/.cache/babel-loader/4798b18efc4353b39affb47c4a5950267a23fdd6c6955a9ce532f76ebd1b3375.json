{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { useEffect, useState } from 'react';\nimport { useMessageContext } from '../../../context';\nexport function useFetchReactions(options) {\n  var _this = this;\n  var contextHandleFetchReactions = useMessageContext('useFetchReactions').handleFetchReactions;\n  var _a = useState([]),\n    reactions = _a[0],\n    setReactions = _a[1];\n  var propHandleFetchReactions = options.handleFetchReactions,\n    shouldFetch = options.shouldFetch;\n  var _b = useState(shouldFetch),\n    isLoading = _b[0],\n    setIsLoading = _b[1];\n  var handleFetchReactions = propHandleFetchReactions !== null && propHandleFetchReactions !== void 0 ? propHandleFetchReactions : contextHandleFetchReactions;\n  useEffect(function () {\n    if (!shouldFetch) {\n      return;\n    }\n    var cancel = false;\n    (function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var reactions_1, e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              _a.trys.push([0, 2, 3, 4]);\n              setIsLoading(true);\n              return [4 /*yield*/, handleFetchReactions()];\n            case 1:\n              reactions_1 = _a.sent();\n              if (!cancel) {\n                setReactions(reactions_1);\n              }\n              return [3 /*break*/, 4];\n            case 2:\n              e_1 = _a.sent();\n              if (!cancel) {\n                setReactions([]);\n              }\n              return [3 /*break*/, 4];\n            case 3:\n              if (!cancel) {\n                setIsLoading(false);\n              }\n              return [7 /*endfinally*/];\n            case 4:\n              return [2 /*return*/];\n          }\n        });\n      });\n    })();\n    return function () {\n      cancel = true;\n    };\n  }, [handleFetchReactions, shouldFetch]);\n  return {\n    isLoading: isLoading,\n    reactions: reactions\n  };\n}","map":{"version":3,"names":["__awaiter","__generator","useEffect","useState","useMessageContext","useFetchReactions","options","_this","contextHandleFetchReactions","handleFetchReactions","_a","reactions","setReactions","propHandleFetchReactions","shouldFetch","_b","isLoading","setIsLoading","cancel","reactions_1","e_1","label","trys","push","sent"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Reactions/hooks/useFetchReactions.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { useEffect, useState } from 'react';\nimport { useMessageContext } from '../../../context';\nexport function useFetchReactions(options) {\n    var _this = this;\n    var contextHandleFetchReactions = useMessageContext('useFetchReactions').handleFetchReactions;\n    var _a = useState([]), reactions = _a[0], setReactions = _a[1];\n    var propHandleFetchReactions = options.handleFetchReactions, shouldFetch = options.shouldFetch;\n    var _b = useState(shouldFetch), isLoading = _b[0], setIsLoading = _b[1];\n    var handleFetchReactions = propHandleFetchReactions !== null && propHandleFetchReactions !== void 0 ? propHandleFetchReactions : contextHandleFetchReactions;\n    useEffect(function () {\n        if (!shouldFetch) {\n            return;\n        }\n        var cancel = false;\n        (function () { return __awaiter(_this, void 0, void 0, function () {\n            var reactions_1, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, 3, 4]);\n                        setIsLoading(true);\n                        return [4 /*yield*/, handleFetchReactions()];\n                    case 1:\n                        reactions_1 = _a.sent();\n                        if (!cancel) {\n                            setReactions(reactions_1);\n                        }\n                        return [3 /*break*/, 4];\n                    case 2:\n                        e_1 = _a.sent();\n                        if (!cancel) {\n                            setReactions([]);\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        if (!cancel) {\n                            setIsLoading(false);\n                        }\n                        return [7 /*endfinally*/];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); })();\n        return function () {\n            cancel = true;\n        };\n    }, [handleFetchReactions, shouldFetch]);\n    return { isLoading: isLoading, reactions: reactions };\n}\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,iBAAiB,QAAQ,kBAAkB;AACpD,OAAO,SAASC,iBAAiBA,CAACC,OAAO,EAAE;EACvC,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAIC,2BAA2B,GAAGJ,iBAAiB,CAAC,mBAAmB,CAAC,CAACK,oBAAoB;EAC7F,IAAIC,EAAE,GAAGP,QAAQ,CAAC,EAAE,CAAC;IAAEQ,SAAS,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,YAAY,GAAGF,EAAE,CAAC,CAAC,CAAC;EAC9D,IAAIG,wBAAwB,GAAGP,OAAO,CAACG,oBAAoB;IAAEK,WAAW,GAAGR,OAAO,CAACQ,WAAW;EAC9F,IAAIC,EAAE,GAAGZ,QAAQ,CAACW,WAAW,CAAC;IAAEE,SAAS,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,YAAY,GAAGF,EAAE,CAAC,CAAC,CAAC;EACvE,IAAIN,oBAAoB,GAAGI,wBAAwB,KAAK,IAAI,IAAIA,wBAAwB,KAAK,KAAK,CAAC,GAAGA,wBAAwB,GAAGL,2BAA2B;EAC5JN,SAAS,CAAC,YAAY;IAClB,IAAI,CAACY,WAAW,EAAE;MACd;IACJ;IACA,IAAII,MAAM,GAAG,KAAK;IAClB,CAAC,YAAY;MAAE,OAAOlB,SAAS,CAACO,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QAC/D,IAAIY,WAAW,EAAEC,GAAG;QACpB,OAAOnB,WAAW,CAAC,IAAI,EAAE,UAAUS,EAAE,EAAE;UACnC,QAAQA,EAAE,CAACW,KAAK;YACZ,KAAK,CAAC;cACFX,EAAE,CAACY,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;cAC1BN,YAAY,CAAC,IAAI,CAAC;cAClB,OAAO,CAAC,CAAC,CAAC,WAAWR,oBAAoB,CAAC,CAAC,CAAC;YAChD,KAAK,CAAC;cACFU,WAAW,GAAGT,EAAE,CAACc,IAAI,CAAC,CAAC;cACvB,IAAI,CAACN,MAAM,EAAE;gBACTN,YAAY,CAACO,WAAW,CAAC;cAC7B;cACA,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;YAC3B,KAAK,CAAC;cACFC,GAAG,GAAGV,EAAE,CAACc,IAAI,CAAC,CAAC;cACf,IAAI,CAACN,MAAM,EAAE;gBACTN,YAAY,CAAC,EAAE,CAAC;cACpB;cACA,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;YAC3B,KAAK,CAAC;cACF,IAAI,CAACM,MAAM,EAAE;gBACTD,YAAY,CAAC,KAAK,CAAC;cACvB;cACA,OAAO,CAAC,CAAC,CAAC,eAAe;YAC7B,KAAK,CAAC;cAAE,OAAO,CAAC,CAAC,CAAC,WAAW;UACjC;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IAAE,CAAC,EAAE,CAAC;IACR,OAAO,YAAY;MACfC,MAAM,GAAG,IAAI;IACjB,CAAC;EACL,CAAC,EAAE,CAACT,oBAAoB,EAAEK,WAAW,CAAC,CAAC;EACvC,OAAO;IAAEE,SAAS,EAAEA,SAAS;IAAEL,SAAS,EAAEA;EAAU,CAAC;AACzD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}