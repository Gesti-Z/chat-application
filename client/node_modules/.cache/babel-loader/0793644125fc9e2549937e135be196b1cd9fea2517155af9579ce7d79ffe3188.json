{"ast":null,"code":"import { __assign } from \"tslib\";\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { MessageErrorIcon } from './icons';\nimport { MessageBouncePrompt as DefaultMessageBouncePrompt } from '../MessageBounce';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageOptions as DefaultMessageOptions } from './MessageOptions';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageStatus as DefaultMessageStatus } from './MessageStatus';\nimport { MessageText } from './MessageText';\nimport { MessageTimestamp as DefaultMessageTimestamp } from './MessageTimestamp';\nimport { areMessageUIPropsEqual, isMessageBounced, isMessageEdited, messageHasAttachments, messageHasReactions } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { CUSTOM_MESSAGE_TYPE } from '../../constants/messageTypes';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { MML } from '../MML';\nimport { Modal } from '../Modal';\nimport { ReactionsList as DefaultReactionList, ReactionSelector as DefaultReactionSelector } from '../Reactions';\nimport { MessageBounceModal } from '../MessageBounce/MessageBounceModal';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context';\nimport { MessageEditedTimestamp } from './MessageEditedTimestamp';\nvar MessageSimpleWithContext = function (props) {\n  var _a;\n  var additionalMessageInputProps = props.additionalMessageInputProps,\n    clearEditingState = props.clearEditingState,\n    editing = props.editing,\n    endOfGroup = props.endOfGroup,\n    firstOfGroup = props.firstOfGroup,\n    groupedByUser = props.groupedByUser,\n    handleAction = props.handleAction,\n    handleOpenThread = props.handleOpenThread,\n    handleRetry = props.handleRetry,\n    highlighted = props.highlighted,\n    isMyMessage = props.isMyMessage,\n    isReactionEnabled = props.isReactionEnabled,\n    message = props.message,\n    onUserClick = props.onUserClick,\n    onUserHover = props.onUserHover,\n    reactionSelectorRef = props.reactionSelectorRef,\n    renderText = props.renderText,\n    showDetailedReactions = props.showDetailedReactions,\n    threadList = props.threadList;\n  var t = useTranslationContext('MessageSimple').t;\n  var _b = useState(false),\n    isBounceDialogOpen = _b[0],\n    setIsBounceDialogOpen = _b[1];\n  var _c = useState(false),\n    isEditedTimestampOpen = _c[0],\n    setEditedTimestampOpen = _c[1];\n  var _d = useComponentContext('MessageSimple'),\n    Attachment = _d.Attachment,\n    _e = _d.Avatar,\n    Avatar = _e === void 0 ? DefaultAvatar : _e,\n    _f = _d.EditMessageInput,\n    EditMessageInput = _f === void 0 ? DefaultEditMessageForm : _f,\n    _g = _d.MessageDeleted,\n    MessageDeleted = _g === void 0 ? DefaultMessageDeleted : _g,\n    _h = _d.MessageBouncePrompt,\n    MessageBouncePrompt = _h === void 0 ? DefaultMessageBouncePrompt : _h,\n    _j = _d.MessageOptions,\n    MessageOptions = _j === void 0 ? DefaultMessageOptions : _j,\n    _k = _d.MessageRepliesCountButton,\n    MessageRepliesCountButton = _k === void 0 ? DefaultMessageRepliesCountButton : _k,\n    _l = _d.MessageStatus,\n    MessageStatus = _l === void 0 ? DefaultMessageStatus : _l,\n    _m = _d.MessageTimestamp,\n    MessageTimestamp = _m === void 0 ? DefaultMessageTimestamp : _m,\n    _o = _d.ReactionSelector,\n    ReactionSelector = _o === void 0 ? DefaultReactionSelector : _o,\n    _p = _d.ReactionsList,\n    ReactionsList = _p === void 0 ? DefaultReactionList : _p;\n  var themeVersion = useChatContext('MessageSimple').themeVersion;\n  var hasAttachment = messageHasAttachments(message);\n  var hasReactions = messageHasReactions(message);\n  if (message.customType === CUSTOM_MESSAGE_TYPE.date) {\n    return null;\n  }\n  if (message.deleted_at || message.type === 'deleted') {\n    return React.createElement(MessageDeleted, {\n      message: message\n    });\n  }\n  /** FIXME: isReactionEnabled should be removed with next major version and a proper centralized permissions logic should be put in place\n   * With the current permissions implementation it would be sth like:\n   * const messageActions = getMessageActions();\n   * const canReact = messageActions.includes(MESSAGE_ACTIONS.react);\n   */\n  var canReact = isReactionEnabled;\n  var canShowReactions = hasReactions;\n  var showMetadata = !groupedByUser || endOfGroup;\n  var showReplyCountButton = !threadList && !!message.reply_count;\n  var allowRetry = message.status === 'failed' && message.errorStatusCode !== 403;\n  var isBounced = isMessageBounced(message);\n  var isEdited = isMessageEdited(message);\n  var handleClick = undefined;\n  if (allowRetry) {\n    handleClick = function () {\n      return handleRetry(message);\n    };\n  } else if (isBounced) {\n    handleClick = function () {\n      return setIsBounceDialogOpen(true);\n    };\n  } else if (isEdited) {\n    handleClick = function () {\n      return setEditedTimestampOpen(function (prev) {\n        return !prev;\n      });\n    };\n  }\n  var rootClassName = clsx('str-chat__message str-chat__message-simple', \"str-chat__message--\".concat(message.type), \"str-chat__message--\".concat(message.status), isMyMessage() ? 'str-chat__message--me str-chat__message-simple--me' : 'str-chat__message--other', message.text ? 'str-chat__message--has-text' : 'has-no-text', {\n    'pinned-message': message.pinned,\n    'str-chat__message--has-attachment': hasAttachment,\n    'str-chat__message--highlighted': highlighted,\n    'str-chat__message--with-reactions str-chat__message-with-thread-link': canShowReactions,\n    'str-chat__message-send-can-be-retried': (message === null || message === void 0 ? void 0 : message.status) === 'failed' && (message === null || message === void 0 ? void 0 : message.errorStatusCode) !== 403,\n    'str-chat__virtual-message__wrapper--end': endOfGroup,\n    'str-chat__virtual-message__wrapper--first': firstOfGroup,\n    'str-chat__virtual-message__wrapper--group': groupedByUser\n  });\n  return React.createElement(React.Fragment, null, editing && React.createElement(Modal, {\n    onClose: clearEditingState,\n    open: editing\n  }, React.createElement(MessageInput, __assign({\n    clearEditingState: clearEditingState,\n    grow: true,\n    hideSendButton: true,\n    Input: EditMessageInput,\n    message: message\n  }, additionalMessageInputProps))), isBounceDialogOpen && React.createElement(MessageBounceModal, {\n    MessageBouncePrompt: MessageBouncePrompt,\n    onClose: function () {\n      return setIsBounceDialogOpen(false);\n    },\n    open: isBounceDialogOpen\n  }), React.createElement(\"div\", {\n    className: rootClassName,\n    key: message.id\n  }, themeVersion === '1' && React.createElement(MessageStatus, null), message.user && React.createElement(Avatar, {\n    image: message.user.image,\n    name: message.user.name || message.user.id,\n    onClick: onUserClick,\n    onMouseOver: onUserHover,\n    user: message.user\n  }), React.createElement(\"div\", {\n    className: clsx('str-chat__message-inner', {\n      'str-chat__simple-message--error-failed': allowRetry || isBounced\n    }),\n    \"data-testid\": 'message-inner',\n    onClick: handleClick,\n    onKeyUp: handleClick\n  }, React.createElement(MessageOptions, null), React.createElement(\"div\", {\n    className: 'str-chat__message-reactions-host'\n  }, canShowReactions && React.createElement(ReactionsList, {\n    reverse: true\n  }), showDetailedReactions && canReact && React.createElement(ReactionSelector, {\n    ref: reactionSelectorRef\n  })), React.createElement(\"div\", {\n    className: 'str-chat__message-bubble'\n  }, ((_a = message.attachments) === null || _a === void 0 ? void 0 : _a.length) && !message.quoted_message ? React.createElement(Attachment, {\n    actionHandler: handleAction,\n    attachments: message.attachments\n  }) : null, React.createElement(MessageText, {\n    message: message,\n    renderText: renderText\n  }), message.mml && React.createElement(MML, {\n    actionHandler: handleAction,\n    align: isMyMessage() ? 'right' : 'left',\n    source: message.mml\n  }), themeVersion === '2' && React.createElement(MessageErrorIcon, null)), showReplyCountButton && themeVersion === '1' && React.createElement(MessageRepliesCountButton, {\n    onClick: handleOpenThread,\n    reply_count: message.reply_count\n  }), showMetadata && themeVersion === '1' && React.createElement(\"div\", {\n    className: 'str-chat__message-data str-chat__message-simple-data'\n  }, !isMyMessage() && message.user ? React.createElement(\"span\", {\n    className: 'str-chat__message-simple-name'\n  }, message.user.name || message.user.id) : null, React.createElement(MessageTimestamp, {\n    calendar: true,\n    customClass: 'str-chat__message-simple-timestamp'\n  }))), showReplyCountButton && themeVersion === '2' && React.createElement(MessageRepliesCountButton, {\n    onClick: handleOpenThread,\n    reply_count: message.reply_count\n  }), showMetadata && themeVersion === '2' && React.createElement(\"div\", {\n    className: 'str-chat__message-data str-chat__message-simple-data str-chat__message-metadata'\n  }, React.createElement(MessageStatus, null), !isMyMessage() && !!message.user && React.createElement(\"span\", {\n    className: 'str-chat__message-simple-name'\n  }, message.user.name || message.user.id), React.createElement(MessageTimestamp, {\n    calendar: true,\n    customClass: 'str-chat__message-simple-timestamp'\n  }), isEdited && React.createElement(\"span\", {\n    className: 'str-chat__mesage-simple-edited'\n  }, t('Edited')), isEdited && React.createElement(MessageEditedTimestamp, {\n    calendar: true,\n    open: isEditedTimestampOpen\n  }))));\n};\nvar MemoizedMessageSimple = React.memo(MessageSimpleWithContext, areMessageUIPropsEqual);\n/**\n * The default UI component that renders a message and receives functionality and logic from the MessageContext.\n */\nexport var MessageSimple = function (props) {\n  var messageContext = useMessageContext('MessageSimple');\n  return React.createElement(MemoizedMessageSimple, __assign({}, messageContext, props));\n};","map":{"version":3,"names":["__assign","React","useState","clsx","MessageErrorIcon","MessageBouncePrompt","DefaultMessageBouncePrompt","MessageDeleted","DefaultMessageDeleted","MessageOptions","DefaultMessageOptions","MessageRepliesCountButton","DefaultMessageRepliesCountButton","MessageStatus","DefaultMessageStatus","MessageText","MessageTimestamp","DefaultMessageTimestamp","areMessageUIPropsEqual","isMessageBounced","isMessageEdited","messageHasAttachments","messageHasReactions","Avatar","DefaultAvatar","CUSTOM_MESSAGE_TYPE","EditMessageForm","DefaultEditMessageForm","MessageInput","MML","Modal","ReactionsList","DefaultReactionList","ReactionSelector","DefaultReactionSelector","MessageBounceModal","useChatContext","useComponentContext","useMessageContext","useTranslationContext","MessageEditedTimestamp","MessageSimpleWithContext","props","_a","additionalMessageInputProps","clearEditingState","editing","endOfGroup","firstOfGroup","groupedByUser","handleAction","handleOpenThread","handleRetry","highlighted","isMyMessage","isReactionEnabled","message","onUserClick","onUserHover","reactionSelectorRef","renderText","showDetailedReactions","threadList","t","_b","isBounceDialogOpen","setIsBounceDialogOpen","_c","isEditedTimestampOpen","setEditedTimestampOpen","_d","Attachment","_e","_f","EditMessageInput","_g","_h","_j","_k","_l","_m","_o","_p","themeVersion","hasAttachment","hasReactions","customType","date","deleted_at","type","createElement","canReact","canShowReactions","showMetadata","showReplyCountButton","reply_count","allowRetry","status","errorStatusCode","isBounced","isEdited","handleClick","undefined","prev","rootClassName","concat","text","pinned","Fragment","onClose","open","grow","hideSendButton","Input","className","key","id","user","image","name","onClick","onMouseOver","onKeyUp","reverse","ref","attachments","length","quoted_message","actionHandler","mml","align","source","calendar","customClass","MemoizedMessageSimple","memo","MessageSimple","messageContext"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Message/MessageSimple.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { MessageErrorIcon } from './icons';\nimport { MessageBouncePrompt as DefaultMessageBouncePrompt } from '../MessageBounce';\nimport { MessageDeleted as DefaultMessageDeleted } from './MessageDeleted';\nimport { MessageOptions as DefaultMessageOptions } from './MessageOptions';\nimport { MessageRepliesCountButton as DefaultMessageRepliesCountButton } from './MessageRepliesCountButton';\nimport { MessageStatus as DefaultMessageStatus } from './MessageStatus';\nimport { MessageText } from './MessageText';\nimport { MessageTimestamp as DefaultMessageTimestamp } from './MessageTimestamp';\nimport { areMessageUIPropsEqual, isMessageBounced, isMessageEdited, messageHasAttachments, messageHasReactions, } from './utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { CUSTOM_MESSAGE_TYPE } from '../../constants/messageTypes';\nimport { EditMessageForm as DefaultEditMessageForm, MessageInput } from '../MessageInput';\nimport { MML } from '../MML';\nimport { Modal } from '../Modal';\nimport { ReactionsList as DefaultReactionList, ReactionSelector as DefaultReactionSelector, } from '../Reactions';\nimport { MessageBounceModal } from '../MessageBounce/MessageBounceModal';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context';\nimport { MessageEditedTimestamp } from './MessageEditedTimestamp';\nvar MessageSimpleWithContext = function (props) {\n    var _a;\n    var additionalMessageInputProps = props.additionalMessageInputProps, clearEditingState = props.clearEditingState, editing = props.editing, endOfGroup = props.endOfGroup, firstOfGroup = props.firstOfGroup, groupedByUser = props.groupedByUser, handleAction = props.handleAction, handleOpenThread = props.handleOpenThread, handleRetry = props.handleRetry, highlighted = props.highlighted, isMyMessage = props.isMyMessage, isReactionEnabled = props.isReactionEnabled, message = props.message, onUserClick = props.onUserClick, onUserHover = props.onUserHover, reactionSelectorRef = props.reactionSelectorRef, renderText = props.renderText, showDetailedReactions = props.showDetailedReactions, threadList = props.threadList;\n    var t = useTranslationContext('MessageSimple').t;\n    var _b = useState(false), isBounceDialogOpen = _b[0], setIsBounceDialogOpen = _b[1];\n    var _c = useState(false), isEditedTimestampOpen = _c[0], setEditedTimestampOpen = _c[1];\n    var _d = useComponentContext('MessageSimple'), Attachment = _d.Attachment, _e = _d.Avatar, Avatar = _e === void 0 ? DefaultAvatar : _e, _f = _d.EditMessageInput, EditMessageInput = _f === void 0 ? DefaultEditMessageForm : _f, _g = _d.MessageDeleted, MessageDeleted = _g === void 0 ? DefaultMessageDeleted : _g, _h = _d.MessageBouncePrompt, MessageBouncePrompt = _h === void 0 ? DefaultMessageBouncePrompt : _h, _j = _d.MessageOptions, MessageOptions = _j === void 0 ? DefaultMessageOptions : _j, _k = _d.MessageRepliesCountButton, MessageRepliesCountButton = _k === void 0 ? DefaultMessageRepliesCountButton : _k, _l = _d.MessageStatus, MessageStatus = _l === void 0 ? DefaultMessageStatus : _l, _m = _d.MessageTimestamp, MessageTimestamp = _m === void 0 ? DefaultMessageTimestamp : _m, _o = _d.ReactionSelector, ReactionSelector = _o === void 0 ? DefaultReactionSelector : _o, _p = _d.ReactionsList, ReactionsList = _p === void 0 ? DefaultReactionList : _p;\n    var themeVersion = useChatContext('MessageSimple').themeVersion;\n    var hasAttachment = messageHasAttachments(message);\n    var hasReactions = messageHasReactions(message);\n    if (message.customType === CUSTOM_MESSAGE_TYPE.date) {\n        return null;\n    }\n    if (message.deleted_at || message.type === 'deleted') {\n        return React.createElement(MessageDeleted, { message: message });\n    }\n    /** FIXME: isReactionEnabled should be removed with next major version and a proper centralized permissions logic should be put in place\n     * With the current permissions implementation it would be sth like:\n     * const messageActions = getMessageActions();\n     * const canReact = messageActions.includes(MESSAGE_ACTIONS.react);\n     */\n    var canReact = isReactionEnabled;\n    var canShowReactions = hasReactions;\n    var showMetadata = !groupedByUser || endOfGroup;\n    var showReplyCountButton = !threadList && !!message.reply_count;\n    var allowRetry = message.status === 'failed' && message.errorStatusCode !== 403;\n    var isBounced = isMessageBounced(message);\n    var isEdited = isMessageEdited(message);\n    var handleClick = undefined;\n    if (allowRetry) {\n        handleClick = function () { return handleRetry(message); };\n    }\n    else if (isBounced) {\n        handleClick = function () { return setIsBounceDialogOpen(true); };\n    }\n    else if (isEdited) {\n        handleClick = function () { return setEditedTimestampOpen(function (prev) { return !prev; }); };\n    }\n    var rootClassName = clsx('str-chat__message str-chat__message-simple', \"str-chat__message--\".concat(message.type), \"str-chat__message--\".concat(message.status), isMyMessage()\n        ? 'str-chat__message--me str-chat__message-simple--me'\n        : 'str-chat__message--other', message.text ? 'str-chat__message--has-text' : 'has-no-text', {\n        'pinned-message': message.pinned,\n        'str-chat__message--has-attachment': hasAttachment,\n        'str-chat__message--highlighted': highlighted,\n        'str-chat__message--with-reactions str-chat__message-with-thread-link': canShowReactions,\n        'str-chat__message-send-can-be-retried': (message === null || message === void 0 ? void 0 : message.status) === 'failed' && (message === null || message === void 0 ? void 0 : message.errorStatusCode) !== 403,\n        'str-chat__virtual-message__wrapper--end': endOfGroup,\n        'str-chat__virtual-message__wrapper--first': firstOfGroup,\n        'str-chat__virtual-message__wrapper--group': groupedByUser,\n    });\n    return (React.createElement(React.Fragment, null,\n        editing && (React.createElement(Modal, { onClose: clearEditingState, open: editing },\n            React.createElement(MessageInput, __assign({ clearEditingState: clearEditingState, grow: true, hideSendButton: true, Input: EditMessageInput, message: message }, additionalMessageInputProps)))),\n        isBounceDialogOpen && (React.createElement(MessageBounceModal, { MessageBouncePrompt: MessageBouncePrompt, onClose: function () { return setIsBounceDialogOpen(false); }, open: isBounceDialogOpen })),\n        React.createElement(\"div\", { className: rootClassName, key: message.id },\n            themeVersion === '1' && React.createElement(MessageStatus, null),\n            message.user && (React.createElement(Avatar, { image: message.user.image, name: message.user.name || message.user.id, onClick: onUserClick, onMouseOver: onUserHover, user: message.user })),\n            React.createElement(\"div\", { className: clsx('str-chat__message-inner', {\n                    'str-chat__simple-message--error-failed': allowRetry || isBounced,\n                }), \"data-testid\": 'message-inner', onClick: handleClick, onKeyUp: handleClick },\n                React.createElement(MessageOptions, null),\n                React.createElement(\"div\", { className: 'str-chat__message-reactions-host' },\n                    canShowReactions && React.createElement(ReactionsList, { reverse: true }),\n                    showDetailedReactions && canReact && React.createElement(ReactionSelector, { ref: reactionSelectorRef })),\n                React.createElement(\"div\", { className: 'str-chat__message-bubble' },\n                    ((_a = message.attachments) === null || _a === void 0 ? void 0 : _a.length) && !message.quoted_message ? (React.createElement(Attachment, { actionHandler: handleAction, attachments: message.attachments })) : null,\n                    React.createElement(MessageText, { message: message, renderText: renderText }),\n                    message.mml && (React.createElement(MML, { actionHandler: handleAction, align: isMyMessage() ? 'right' : 'left', source: message.mml })),\n                    themeVersion === '2' && React.createElement(MessageErrorIcon, null)),\n                showReplyCountButton && themeVersion === '1' && (React.createElement(MessageRepliesCountButton, { onClick: handleOpenThread, reply_count: message.reply_count })),\n                showMetadata && themeVersion === '1' && (React.createElement(\"div\", { className: 'str-chat__message-data str-chat__message-simple-data' },\n                    !isMyMessage() && message.user ? (React.createElement(\"span\", { className: 'str-chat__message-simple-name' }, message.user.name || message.user.id)) : null,\n                    React.createElement(MessageTimestamp, { calendar: true, customClass: 'str-chat__message-simple-timestamp' })))),\n            showReplyCountButton && themeVersion === '2' && (React.createElement(MessageRepliesCountButton, { onClick: handleOpenThread, reply_count: message.reply_count })),\n            showMetadata && themeVersion === '2' && (React.createElement(\"div\", { className: 'str-chat__message-data str-chat__message-simple-data str-chat__message-metadata' },\n                React.createElement(MessageStatus, null),\n                !isMyMessage() && !!message.user && (React.createElement(\"span\", { className: 'str-chat__message-simple-name' }, message.user.name || message.user.id)),\n                React.createElement(MessageTimestamp, { calendar: true, customClass: 'str-chat__message-simple-timestamp' }),\n                isEdited && (React.createElement(\"span\", { className: 'str-chat__mesage-simple-edited' }, t('Edited'))),\n                isEdited && React.createElement(MessageEditedTimestamp, { calendar: true, open: isEditedTimestampOpen }))))));\n};\nvar MemoizedMessageSimple = React.memo(MessageSimpleWithContext, areMessageUIPropsEqual);\n/**\n * The default UI component that renders a message and receives functionality and logic from the MessageContext.\n */\nexport var MessageSimple = function (props) {\n    var messageContext = useMessageContext('MessageSimple');\n    return React.createElement(MemoizedMessageSimple, __assign({}, messageContext, props));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}