{"ast":null,"code":"import { __assign } from \"tslib\";\nimport React, { useState } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport clsx from 'clsx';\nimport { BaseImage as DefaultBaseImage } from './BaseImage';\nimport { Modal } from '../Modal';\nimport { ModalGallery as DefaultModalGallery } from './ModalGallery';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n  var images = props.images,\n    innerRefs = props.innerRefs;\n  var _a = useState(0),\n    index = _a[0],\n    setIndex = _a[1];\n  var _b = useState(false),\n    modalOpen = _b[0],\n    setModalOpen = _b[1];\n  var _c = useComponentContext('Gallery'),\n    _d = _c.BaseImage,\n    BaseImage = _d === void 0 ? DefaultBaseImage : _d,\n    _e = _c.ModalGallery,\n    ModalGallery = _e === void 0 ? DefaultModalGallery : _e;\n  var t = useTranslationContext('Gallery').t;\n  var imageFallbackTitle = t('User uploaded content');\n  var countImagesDisplayedInPreview = 4;\n  var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n  var toggleModal = function (selectedIndex) {\n    if (modalOpen) {\n      setModalOpen(false);\n    } else {\n      setIndex(selectedIndex);\n      setModalOpen(true);\n    }\n  };\n  var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n    return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? React.createElement(\"button\", __assign({\n      className: 'str-chat__gallery-placeholder',\n      \"data-testid\": 'gallery-image-last',\n      key: \"gallery-image-\".concat(i),\n      onClick: function () {\n        return toggleModal(i);\n      },\n      style: __assign({\n        backgroundImage: \"url(\".concat(images[lastImageIndexInPreview].previewUrl || images[lastImageIndexInPreview].image_url || images[lastImageIndexInPreview].thumb_url, \")\")\n      }, image.style)\n    }, (innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && {\n      ref: function (r) {\n        return innerRefs.current[i] = r;\n      }\n    }), React.createElement(\"p\", null, t('{{ imageCount }} more', {\n      imageCount: images.length - countImagesDisplayedInPreview\n    }))) : React.createElement(\"button\", {\n      className: 'str-chat__gallery-image',\n      \"data-testid\": 'gallery-image',\n      key: \"gallery-image-\".concat(i),\n      onClick: function () {\n        return toggleModal(i);\n      }\n    }, React.createElement(BaseImage, __assign({\n      alt: (image === null || image === void 0 ? void 0 : image.fallback) || imageFallbackTitle,\n      src: sanitizeUrl(image.previewUrl || image.image_url || image.thumb_url),\n      style: image.style,\n      title: (image === null || image === void 0 ? void 0 : image.fallback) || imageFallbackTitle\n    }, (innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && {\n      ref: function (r) {\n        return innerRefs.current[i] = r;\n      }\n    })));\n  });\n  var className = clsx('str-chat__gallery', {\n    'str-chat__gallery--square': images.length > lastImageIndexInPreview,\n    'str-chat__gallery-two-rows': images.length > 2\n  });\n  return React.createElement(\"div\", {\n    className: className\n  }, renderImages, React.createElement(Modal, {\n    onClose: function () {\n      return setModalOpen(function (modalOpen) {\n        return !modalOpen;\n      });\n    },\n    open: modalOpen\n  }, React.createElement(ModalGallery, {\n    images: images,\n    index: index\n  })));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);","map":{"version":3,"names":["__assign","React","useState","sanitizeUrl","clsx","BaseImage","DefaultBaseImage","Modal","ModalGallery","DefaultModalGallery","useComponentContext","useTranslationContext","UnMemoizedGallery","props","images","innerRefs","_a","index","setIndex","_b","modalOpen","setModalOpen","_c","_d","_e","t","imageFallbackTitle","countImagesDisplayedInPreview","lastImageIndexInPreview","toggleModal","selectedIndex","renderImages","slice","map","image","i","length","createElement","className","key","concat","onClick","style","backgroundImage","previewUrl","image_url","thumb_url","current","ref","r","imageCount","alt","fallback","src","title","onClose","open","Gallery","memo"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Gallery/Gallery.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport React, { useState } from 'react';\nimport { sanitizeUrl } from '@braintree/sanitize-url';\nimport clsx from 'clsx';\nimport { BaseImage as DefaultBaseImage } from './BaseImage';\nimport { Modal } from '../Modal';\nimport { ModalGallery as DefaultModalGallery } from './ModalGallery';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n    var images = props.images, innerRefs = props.innerRefs;\n    var _a = useState(0), index = _a[0], setIndex = _a[1];\n    var _b = useState(false), modalOpen = _b[0], setModalOpen = _b[1];\n    var _c = useComponentContext('Gallery'), _d = _c.BaseImage, BaseImage = _d === void 0 ? DefaultBaseImage : _d, _e = _c.ModalGallery, ModalGallery = _e === void 0 ? DefaultModalGallery : _e;\n    var t = useTranslationContext('Gallery').t;\n    var imageFallbackTitle = t('User uploaded content');\n    var countImagesDisplayedInPreview = 4;\n    var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n    var toggleModal = function (selectedIndex) {\n        if (modalOpen) {\n            setModalOpen(false);\n        }\n        else {\n            setIndex(selectedIndex);\n            setModalOpen(true);\n        }\n    };\n    var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n        return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? (React.createElement(\"button\", __assign({ className: 'str-chat__gallery-placeholder', \"data-testid\": 'gallery-image-last', key: \"gallery-image-\".concat(i), onClick: function () { return toggleModal(i); }, style: __assign({ backgroundImage: \"url(\".concat(images[lastImageIndexInPreview].previewUrl ||\n                    images[lastImageIndexInPreview].image_url ||\n                    images[lastImageIndexInPreview].thumb_url, \")\") }, image.style) }, ((innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && { ref: function (r) { return (innerRefs.current[i] = r); } })),\n            React.createElement(\"p\", null, t('{{ imageCount }} more', {\n                imageCount: images.length - countImagesDisplayedInPreview,\n            })))) : (React.createElement(\"button\", { className: 'str-chat__gallery-image', \"data-testid\": 'gallery-image', key: \"gallery-image-\".concat(i), onClick: function () { return toggleModal(i); } },\n            React.createElement(BaseImage, __assign({ alt: (image === null || image === void 0 ? void 0 : image.fallback) || imageFallbackTitle, src: sanitizeUrl(image.previewUrl || image.image_url || image.thumb_url), style: image.style, title: (image === null || image === void 0 ? void 0 : image.fallback) || imageFallbackTitle }, ((innerRefs === null || innerRefs === void 0 ? void 0 : innerRefs.current) && { ref: function (r) { return (innerRefs.current[i] = r); } })))));\n    });\n    var className = clsx('str-chat__gallery', {\n        'str-chat__gallery--square': images.length > lastImageIndexInPreview,\n        'str-chat__gallery-two-rows': images.length > 2,\n    });\n    return (React.createElement(\"div\", { className: className },\n        renderImages,\n        React.createElement(Modal, { onClose: function () { return setModalOpen(function (modalOpen) { return !modalOpen; }); }, open: modalOpen },\n            React.createElement(ModalGallery, { images: images, index: index }))));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}