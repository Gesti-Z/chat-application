{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { EmoticonItem } from '../../EmoticonItem/EmoticonItem';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useEmojiTrigger = function (emojiSearchIndex) {\n  var themeVersion = useChatContext('useEmojiTrigger').themeVersion;\n  return {\n    component: EmoticonItem,\n    dataProvider: function (query, _, onReady) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var emojis, result;\n        var _a;\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              if (query.length === 0 || query.charAt(0).match(/[^a-zA-Z0-9+-]/)) {\n                return [2 /*return*/, onReady([], query)];\n              }\n              return [4 /*yield*/, emojiSearchIndex === null || emojiSearchIndex === void 0 ? void 0 : emojiSearchIndex.search(query)];\n            case 1:\n              emojis = (_a = _b.sent()) !== null && _a !== void 0 ? _a : [];\n              result = emojis.filter(Boolean).slice(0, themeVersion === '2' ? 7 : 10).map(function (_a) {\n                var id = _a.id,\n                  name = _a.name,\n                  native = _a.native,\n                  _b = _a.skins,\n                  skins = _b === void 0 ? [] : _b;\n                var firstSkin = skins[0];\n                return {\n                  id: id,\n                  name: name,\n                  native: native !== null && native !== void 0 ? native : firstSkin.native\n                };\n              });\n              if (onReady) onReady(result, query);\n              return [2 /*return*/];\n          }\n        });\n      });\n    },\n    output: function (entity) {\n      return {\n        caretPosition: 'next',\n        key: entity.id,\n        text: \"\".concat('native' in entity ? entity.native : '')\n      };\n    }\n  };\n};","map":{"version":3,"names":["__awaiter","__generator","EmoticonItem","useChatContext","useEmojiTrigger","emojiSearchIndex","themeVersion","component","dataProvider","query","_","onReady","emojis","result","_a","_b","label","length","charAt","match","search","sent","filter","Boolean","slice","map","id","name","native","skins","firstSkin","output","entity","caretPosition","key","text","concat"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useEmojiTrigger.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\nimport { EmoticonItem } from '../../EmoticonItem/EmoticonItem';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useEmojiTrigger = function (emojiSearchIndex) {\n    var themeVersion = useChatContext('useEmojiTrigger').themeVersion;\n    return {\n        component: EmoticonItem,\n        dataProvider: function (query, _, onReady) { return __awaiter(void 0, void 0, void 0, function () {\n            var emojis, result;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (query.length === 0 || query.charAt(0).match(/[^a-zA-Z0-9+-]/)) {\n                            return [2 /*return*/, onReady([], query)];\n                        }\n                        return [4 /*yield*/, (emojiSearchIndex === null || emojiSearchIndex === void 0 ? void 0 : emojiSearchIndex.search(query))];\n                    case 1:\n                        emojis = (_a = (_b.sent())) !== null && _a !== void 0 ? _a : [];\n                        result = emojis\n                            .filter(Boolean)\n                            .slice(0, themeVersion === '2' ? 7 : 10)\n                            .map(function (_a) {\n                            var id = _a.id, name = _a.name, native = _a.native, _b = _a.skins, skins = _b === void 0 ? [] : _b;\n                            var firstSkin = skins[0];\n                            return {\n                                id: id,\n                                name: name,\n                                native: native !== null && native !== void 0 ? native : firstSkin.native,\n                            };\n                        });\n                        if (onReady)\n                            onReady(result, query);\n                        return [2 /*return*/];\n                }\n            });\n        }); },\n        output: function (entity) { return ({\n            caretPosition: 'next',\n            key: entity.id,\n            text: \"\".concat('native' in entity ? entity.native : ''),\n        }); },\n    };\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,SAASC,YAAY,QAAQ,iCAAiC;AAC9D,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,OAAO,IAAIC,eAAe,GAAG,SAAAA,CAAUC,gBAAgB,EAAE;EACrD,IAAIC,YAAY,GAAGH,cAAc,CAAC,iBAAiB,CAAC,CAACG,YAAY;EACjE,OAAO;IACHC,SAAS,EAAEL,YAAY;IACvBM,YAAY,EAAE,SAAAA,CAAUC,KAAK,EAAEC,CAAC,EAAEC,OAAO,EAAE;MAAE,OAAOX,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QAC9F,IAAIY,MAAM,EAAEC,MAAM;QAClB,IAAIC,EAAE;QACN,OAAOb,WAAW,CAAC,IAAI,EAAE,UAAUc,EAAE,EAAE;UACnC,QAAQA,EAAE,CAACC,KAAK;YACZ,KAAK,CAAC;cACF,IAAIP,KAAK,CAACQ,MAAM,KAAK,CAAC,IAAIR,KAAK,CAACS,MAAM,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,gBAAgB,CAAC,EAAE;gBAC/D,OAAO,CAAC,CAAC,CAAC,YAAYR,OAAO,CAAC,EAAE,EAAEF,KAAK,CAAC,CAAC;cAC7C;cACA,OAAO,CAAC,CAAC,CAAC,WAAYJ,gBAAgB,KAAK,IAAI,IAAIA,gBAAgB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,gBAAgB,CAACe,MAAM,CAACX,KAAK,CAAC,CAAE;YAC9H,KAAK,CAAC;cACFG,MAAM,GAAG,CAACE,EAAE,GAAIC,EAAE,CAACM,IAAI,CAAC,CAAE,MAAM,IAAI,IAAIP,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE;cAC/DD,MAAM,GAAGD,MAAM,CACVU,MAAM,CAACC,OAAO,CAAC,CACfC,KAAK,CAAC,CAAC,EAAElB,YAAY,KAAK,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC,CACvCmB,GAAG,CAAC,UAAUX,EAAE,EAAE;gBACnB,IAAIY,EAAE,GAAGZ,EAAE,CAACY,EAAE;kBAAEC,IAAI,GAAGb,EAAE,CAACa,IAAI;kBAAEC,MAAM,GAAGd,EAAE,CAACc,MAAM;kBAAEb,EAAE,GAAGD,EAAE,CAACe,KAAK;kBAAEA,KAAK,GAAGd,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;gBAClG,IAAIe,SAAS,GAAGD,KAAK,CAAC,CAAC,CAAC;gBACxB,OAAO;kBACHH,EAAE,EAAEA,EAAE;kBACNC,IAAI,EAAEA,IAAI;kBACVC,MAAM,EAAEA,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAGA,MAAM,GAAGE,SAAS,CAACF;gBACtE,CAAC;cACL,CAAC,CAAC;cACF,IAAIjB,OAAO,EACPA,OAAO,CAACE,MAAM,EAAEJ,KAAK,CAAC;cAC1B,OAAO,CAAC,CAAC,CAAC,WAAW;UAC7B;QACJ,CAAC,CAAC;MACN,CAAC,CAAC;IAAE,CAAC;IACLsB,MAAM,EAAE,SAAAA,CAAUC,MAAM,EAAE;MAAE,OAAQ;QAChCC,aAAa,EAAE,MAAM;QACrBC,GAAG,EAAEF,MAAM,CAACN,EAAE;QACdS,IAAI,EAAE,EAAE,CAACC,MAAM,CAAC,QAAQ,IAAIJ,MAAM,GAAGA,MAAM,CAACJ,MAAM,GAAG,EAAE;MAC3D,CAAC;IAAG;EACR,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}