{"ast":null,"code":"import { CommandItem } from '../../CommandItem/CommandItem';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context';\nexport var useCommandTrigger = function () {\n  var themeVersion = useChatContext('useCommandTrigger').themeVersion;\n  var channelConfig = useChannelStateContext('useCommandTrigger').channelConfig;\n  var t = useTranslationContext('useCommandTrigger').t;\n  var commands = channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.commands;\n  return {\n    component: CommandItem,\n    dataProvider: function (query, text, onReady) {\n      if (text.indexOf('/') !== 0 || !commands) {\n        return [];\n      }\n      var selectedCommands = commands.filter(function (command) {\n        var _a;\n        return ((_a = command.name) === null || _a === void 0 ? void 0 : _a.indexOf(query)) !== -1;\n      });\n      // sort alphabetically unless you're matching the first char\n      selectedCommands.sort(function (a, b) {\n        var _a, _b;\n        var nameA = (_a = a.name) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n        var nameB = (_b = b.name) === null || _b === void 0 ? void 0 : _b.toLowerCase();\n        if ((nameA === null || nameA === void 0 ? void 0 : nameA.indexOf(query)) === 0) {\n          nameA = \"0\".concat(nameA);\n        }\n        if ((nameB === null || nameB === void 0 ? void 0 : nameB.indexOf(query)) === 0) {\n          nameB = \"0\".concat(nameB);\n        }\n        // Should confirm possible null / undefined when TS is fully implemented\n        if (nameA != null && nameB != null) {\n          if (nameA < nameB) {\n            return -1;\n          }\n          if (nameA > nameB) {\n            return 1;\n          }\n        }\n        return 0;\n      });\n      var result = selectedCommands.slice(0, themeVersion === '2' ? 5 : 10);\n      if (onReady) onReady(result.filter(function (result) {\n        return result.name !== undefined;\n      }).map(function (commandData) {\n        var translatedCommandData = {\n          name: commandData.name\n        };\n        if (commandData.args) translatedCommandData.args = t(\"\".concat(commandData.name, \"-command-args\"), {\n          defaultValue: commandData.args\n        });\n        if (commandData.description) translatedCommandData.description = t(\"\".concat(commandData.name, \"-command-description\"), {\n          defaultValue: commandData.description\n        });\n        return translatedCommandData;\n      }), query);\n      return result;\n    },\n    output: function (entity) {\n      return {\n        caretPosition: 'next',\n        key: entity.name,\n        text: \"/\".concat(entity.name)\n      };\n    }\n  };\n};","map":{"version":3,"names":["CommandItem","useChannelStateContext","useChatContext","useTranslationContext","useCommandTrigger","themeVersion","channelConfig","t","commands","component","dataProvider","query","text","onReady","indexOf","selectedCommands","filter","command","_a","name","sort","a","b","_b","nameA","toLowerCase","nameB","concat","result","slice","undefined","map","commandData","translatedCommandData","args","defaultValue","description","output","entity","caretPosition","key"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useCommandTrigger.js"],"sourcesContent":["import { CommandItem } from '../../CommandItem/CommandItem';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useTranslationContext } from '../../../context';\nexport var useCommandTrigger = function () {\n    var themeVersion = useChatContext('useCommandTrigger').themeVersion;\n    var channelConfig = useChannelStateContext('useCommandTrigger').channelConfig;\n    var t = useTranslationContext('useCommandTrigger').t;\n    var commands = channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.commands;\n    return {\n        component: CommandItem,\n        dataProvider: function (query, text, onReady) {\n            if (text.indexOf('/') !== 0 || !commands) {\n                return [];\n            }\n            var selectedCommands = commands.filter(function (command) { var _a; return ((_a = command.name) === null || _a === void 0 ? void 0 : _a.indexOf(query)) !== -1; });\n            // sort alphabetically unless you're matching the first char\n            selectedCommands.sort(function (a, b) {\n                var _a, _b;\n                var nameA = (_a = a.name) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n                var nameB = (_b = b.name) === null || _b === void 0 ? void 0 : _b.toLowerCase();\n                if ((nameA === null || nameA === void 0 ? void 0 : nameA.indexOf(query)) === 0) {\n                    nameA = \"0\".concat(nameA);\n                }\n                if ((nameB === null || nameB === void 0 ? void 0 : nameB.indexOf(query)) === 0) {\n                    nameB = \"0\".concat(nameB);\n                }\n                // Should confirm possible null / undefined when TS is fully implemented\n                if (nameA != null && nameB != null) {\n                    if (nameA < nameB) {\n                        return -1;\n                    }\n                    if (nameA > nameB) {\n                        return 1;\n                    }\n                }\n                return 0;\n            });\n            var result = selectedCommands.slice(0, themeVersion === '2' ? 5 : 10);\n            if (onReady)\n                onReady(result\n                    .filter(function (result) {\n                    return result.name !== undefined;\n                })\n                    .map(function (commandData) {\n                    var translatedCommandData = {\n                        name: commandData.name,\n                    };\n                    if (commandData.args)\n                        translatedCommandData.args = t(\"\".concat(commandData.name, \"-command-args\"), {\n                            defaultValue: commandData.args,\n                        });\n                    if (commandData.description)\n                        translatedCommandData.description = t(\"\".concat(commandData.name, \"-command-description\"), {\n                            defaultValue: commandData.description,\n                        });\n                    return translatedCommandData;\n                }), query);\n            return result;\n        },\n        output: function (entity) { return ({\n            caretPosition: 'next',\n            key: entity.name,\n            text: \"/\".concat(entity.name),\n        }); },\n    };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}