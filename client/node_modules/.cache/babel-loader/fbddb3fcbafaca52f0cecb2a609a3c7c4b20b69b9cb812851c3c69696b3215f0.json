{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport clsx from 'clsx';\nimport throttle from 'lodash.throttle';\nimport React from 'react';\nimport { EmptyStateIndicator as DefaultEmptyStateIndicator } from '../EmptyStateIndicator';\nimport { LoadingIndicator as DefaultLoadingIndicator } from '../Loading';\nimport { isMessageEdited, Message } from '../Message';\nimport { useComponentContext } from '../../context';\nimport { isDateSeparatorMessage } from './utils';\nvar PREPEND_OFFSET = Math.pow(10, 7);\nexport function calculateItemIndex(virtuosoIndex, numItemsPrepended) {\n  return virtuosoIndex + numItemsPrepended - PREPEND_OFFSET;\n}\nexport function calculateFirstItemIndex(numItemsPrepended) {\n  return PREPEND_OFFSET - numItemsPrepended;\n}\nexport var makeItemsRenderedHandler = function (renderedItemsActions, processedMessages) {\n  return throttle(function (items) {\n    var renderedMessages = items.map(function (item) {\n      if (!item.originalIndex) return undefined;\n      return processedMessages[calculateItemIndex(item.originalIndex, PREPEND_OFFSET)];\n    }).filter(function (msg) {\n      return !!msg;\n    });\n    renderedItemsActions.forEach(function (action) {\n      return action(renderedMessages);\n    });\n  }, 200);\n};\n// using 'display: inline-block'\n// traps CSS margins of the item elements, preventing incorrect item measurements\nexport var Item = function (_a) {\n  var _b;\n  var _c;\n  var context = _a.context,\n    props = __rest(_a, [\"context\"]);\n  if (!context) return React.createElement(React.Fragment, null);\n  var message = context.processedMessages[calculateItemIndex(props['data-item-index'], context.numItemsPrepended)];\n  var groupStyles = context.messageGroupStyles[message.id];\n  return React.createElement(\"div\", __assign({}, props, {\n    className: ((_c = context === null || context === void 0 ? void 0 : context.customClasses) === null || _c === void 0 ? void 0 : _c.virtualMessage) || clsx('str-chat__virtual-list-message-wrapper str-chat__li', (_b = {}, _b[\"str-chat__li--\".concat(groupStyles)] = groupStyles, _b))\n  }));\n};\nexport var Header = function (_a) {\n  var context = _a.context;\n  var _b = useComponentContext('VirtualizedMessageListHeader').LoadingIndicator,\n    LoadingIndicator = _b === void 0 ? DefaultLoadingIndicator : _b;\n  if (!(context === null || context === void 0 ? void 0 : context.loadingMore)) return null;\n  return LoadingIndicator ? React.createElement(\"div\", {\n    className: 'str-chat__virtual-list__loading'\n  }, React.createElement(LoadingIndicator, {\n    size: 20\n  })) : (context === null || context === void 0 ? void 0 : context.head) || null;\n};\nexport var EmptyPlaceholder = function (_a) {\n  var context = _a.context;\n  var _b = useComponentContext('VirtualizedMessageList').EmptyStateIndicator,\n    EmptyStateIndicator = _b === void 0 ? DefaultEmptyStateIndicator : _b;\n  return React.createElement(React.Fragment, null, EmptyStateIndicator && React.createElement(EmptyStateIndicator, {\n    listType: (context === null || context === void 0 ? void 0 : context.threadList) ? 'thread' : 'message'\n  }));\n};\nexport var Footer = function () {\n  var TypingIndicator = useComponentContext('VirtualizedMessageList').TypingIndicator;\n  return TypingIndicator ? React.createElement(TypingIndicator, {\n    avatarSize: 24\n  }) : null;\n};\nexport var messageRenderer = function (virtuosoIndex, _data, virtuosoContext) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  var additionalMessageInputProps = virtuosoContext.additionalMessageInputProps,\n    closeReactionSelectorOnClick = virtuosoContext.closeReactionSelectorOnClick,\n    customMessageActions = virtuosoContext.customMessageActions,\n    customMessageRenderer = virtuosoContext.customMessageRenderer,\n    DateSeparator = virtuosoContext.DateSeparator,\n    firstUnreadMessageId = virtuosoContext.firstUnreadMessageId,\n    lastReadDate = virtuosoContext.lastReadDate,\n    lastReadMessageId = virtuosoContext.lastReadMessageId,\n    lastReceivedMessageId = virtuosoContext.lastReceivedMessageId,\n    MessageUIComponent = virtuosoContext.Message,\n    messageActions = virtuosoContext.messageActions,\n    MessageSystem = virtuosoContext.MessageSystem,\n    numItemsPrepended = virtuosoContext.numItemsPrepended,\n    ownMessagesReadByOthers = virtuosoContext.ownMessagesReadByOthers,\n    messageList = virtuosoContext.processedMessages,\n    shouldGroupByUser = virtuosoContext.shouldGroupByUser,\n    sortReactionDetails = virtuosoContext.sortReactionDetails,\n    sortReactions = virtuosoContext.sortReactions,\n    _h = virtuosoContext.unreadMessageCount,\n    unreadMessageCount = _h === void 0 ? 0 : _h,\n    UnreadMessagesSeparator = virtuosoContext.UnreadMessagesSeparator,\n    virtuosoRef = virtuosoContext.virtuosoRef;\n  var streamMessageIndex = calculateItemIndex(virtuosoIndex, numItemsPrepended);\n  if (customMessageRenderer) {\n    return customMessageRenderer(messageList, streamMessageIndex);\n  }\n  var message = messageList[streamMessageIndex];\n  if (!message) return React.createElement(\"div\", {\n    style: {\n      height: '1px'\n    }\n  }); // returning null or zero height breaks the virtuoso\n  if (isDateSeparatorMessage(message)) {\n    return DateSeparator ? React.createElement(DateSeparator, {\n      date: message.date,\n      unread: message.unread\n    }) : null;\n  }\n  if (message.type === 'system') {\n    return MessageSystem ? React.createElement(MessageSystem, {\n      message: message\n    }) : null;\n  }\n  var groupedByUser = shouldGroupByUser && streamMessageIndex > 0 && ((_a = message.user) === null || _a === void 0 ? void 0 : _a.id) === ((_b = messageList[streamMessageIndex - 1].user) === null || _b === void 0 ? void 0 : _b.id);\n  var maybePrevMessage = messageList[streamMessageIndex - 1];\n  var maybeNextMessage = messageList[streamMessageIndex + 1];\n  var firstOfGroup = shouldGroupByUser && (((_c = message.user) === null || _c === void 0 ? void 0 : _c.id) !== ((_d = maybePrevMessage === null || maybePrevMessage === void 0 ? void 0 : maybePrevMessage.user) === null || _d === void 0 ? void 0 : _d.id) || maybePrevMessage && isMessageEdited(maybePrevMessage));\n  var endOfGroup = shouldGroupByUser && (((_e = message.user) === null || _e === void 0 ? void 0 : _e.id) !== ((_f = maybeNextMessage === null || maybeNextMessage === void 0 ? void 0 : maybeNextMessage.user) === null || _f === void 0 ? void 0 : _f.id) || isMessageEdited(message));\n  var createdAtTimestamp = message.created_at && new Date(message.created_at).getTime();\n  var lastReadTimestamp = lastReadDate === null || lastReadDate === void 0 ? void 0 : lastReadDate.getTime();\n  var isFirstMessage = streamMessageIndex === 0;\n  var isNewestMessage = lastReadMessageId === lastReceivedMessageId;\n  var isLastReadMessage = message.id === lastReadMessageId || !unreadMessageCount && createdAtTimestamp === lastReadTimestamp;\n  var isFirstUnreadMessage = firstUnreadMessageId === message.id || !!unreadMessageCount && createdAtTimestamp && lastReadTimestamp && createdAtTimestamp > lastReadTimestamp && isFirstMessage;\n  var showUnreadSeparatorAbove = !lastReadMessageId && isFirstUnreadMessage;\n  var showUnreadSeparatorBelow = isLastReadMessage && !isNewestMessage && (firstUnreadMessageId || !!unreadMessageCount);\n  return React.createElement(React.Fragment, null, showUnreadSeparatorAbove && React.createElement(\"div\", {\n    className: 'str-chat__unread-messages-separator-wrapper'\n  }, React.createElement(UnreadMessagesSeparator, {\n    unreadCount: unreadMessageCount\n  })), React.createElement(Message, {\n    additionalMessageInputProps: additionalMessageInputProps,\n    autoscrollToBottom: (_g = virtuosoRef.current) === null || _g === void 0 ? void 0 : _g.autoscrollToBottom,\n    closeReactionSelectorOnClick: closeReactionSelectorOnClick,\n    customMessageActions: customMessageActions,\n    endOfGroup: endOfGroup,\n    firstOfGroup: firstOfGroup,\n    groupedByUser: groupedByUser,\n    lastReceivedId: lastReceivedMessageId,\n    message: message,\n    Message: MessageUIComponent,\n    messageActions: messageActions,\n    readBy: ownMessagesReadByOthers[message.id] || [],\n    sortReactionDetails: sortReactionDetails,\n    sortReactions: sortReactions\n  }), showUnreadSeparatorBelow && React.createElement(\"div\", {\n    className: 'str-chat__unread-messages-separator-wrapper'\n  }, React.createElement(UnreadMessagesSeparator, {\n    unreadCount: unreadMessageCount\n  })));\n};","map":{"version":3,"names":["__assign","__rest","clsx","throttle","React","EmptyStateIndicator","DefaultEmptyStateIndicator","LoadingIndicator","DefaultLoadingIndicator","isMessageEdited","Message","useComponentContext","isDateSeparatorMessage","PREPEND_OFFSET","Math","pow","calculateItemIndex","virtuosoIndex","numItemsPrepended","calculateFirstItemIndex","makeItemsRenderedHandler","renderedItemsActions","processedMessages","items","renderedMessages","map","item","originalIndex","undefined","filter","msg","forEach","action","Item","_a","_b","_c","context","props","createElement","Fragment","message","groupStyles","messageGroupStyles","id","className","customClasses","virtualMessage","concat","Header","loadingMore","size","head","EmptyPlaceholder","listType","threadList","Footer","TypingIndicator","avatarSize","messageRenderer","_data","virtuosoContext","_d","_e","_f","_g","additionalMessageInputProps","closeReactionSelectorOnClick","customMessageActions","customMessageRenderer","DateSeparator","firstUnreadMessageId","lastReadDate","lastReadMessageId","lastReceivedMessageId","MessageUIComponent","messageActions","MessageSystem","ownMessagesReadByOthers","messageList","shouldGroupByUser","sortReactionDetails","sortReactions","_h","unreadMessageCount","UnreadMessagesSeparator","virtuosoRef","streamMessageIndex","style","height","date","unread","type","groupedByUser","user","maybePrevMessage","maybeNextMessage","firstOfGroup","endOfGroup","createdAtTimestamp","created_at","Date","getTime","lastReadTimestamp","isFirstMessage","isNewestMessage","isLastReadMessage","isFirstUnreadMessage","showUnreadSeparatorAbove","showUnreadSeparatorBelow","unreadCount","autoscrollToBottom","current","lastReceivedId","readBy"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/MessageList/VirtualizedMessageListComponents.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport clsx from 'clsx';\nimport throttle from 'lodash.throttle';\nimport React from 'react';\nimport { EmptyStateIndicator as DefaultEmptyStateIndicator } from '../EmptyStateIndicator';\nimport { LoadingIndicator as DefaultLoadingIndicator } from '../Loading';\nimport { isMessageEdited, Message } from '../Message';\nimport { useComponentContext } from '../../context';\nimport { isDateSeparatorMessage } from './utils';\nvar PREPEND_OFFSET = Math.pow(10, 7);\nexport function calculateItemIndex(virtuosoIndex, numItemsPrepended) {\n    return virtuosoIndex + numItemsPrepended - PREPEND_OFFSET;\n}\nexport function calculateFirstItemIndex(numItemsPrepended) {\n    return PREPEND_OFFSET - numItemsPrepended;\n}\nexport var makeItemsRenderedHandler = function (renderedItemsActions, processedMessages) {\n    return throttle(function (items) {\n        var renderedMessages = items\n            .map(function (item) {\n            if (!item.originalIndex)\n                return undefined;\n            return processedMessages[calculateItemIndex(item.originalIndex, PREPEND_OFFSET)];\n        })\n            .filter(function (msg) { return !!msg; });\n        renderedItemsActions.forEach(function (action) {\n            return action(renderedMessages);\n        });\n    }, 200);\n};\n// using 'display: inline-block'\n// traps CSS margins of the item elements, preventing incorrect item measurements\nexport var Item = function (_a) {\n    var _b;\n    var _c;\n    var context = _a.context, props = __rest(_a, [\"context\"]);\n    if (!context)\n        return React.createElement(React.Fragment, null);\n    var message = context.processedMessages[calculateItemIndex(props['data-item-index'], context.numItemsPrepended)];\n    var groupStyles = context.messageGroupStyles[message.id];\n    return (React.createElement(\"div\", __assign({}, props, { className: ((_c = context === null || context === void 0 ? void 0 : context.customClasses) === null || _c === void 0 ? void 0 : _c.virtualMessage) ||\n            clsx('str-chat__virtual-list-message-wrapper str-chat__li', (_b = {},\n                _b[\"str-chat__li--\".concat(groupStyles)] = groupStyles,\n                _b)) })));\n};\nexport var Header = function (_a) {\n    var context = _a.context;\n    var _b = useComponentContext('VirtualizedMessageListHeader').LoadingIndicator, LoadingIndicator = _b === void 0 ? DefaultLoadingIndicator : _b;\n    if (!(context === null || context === void 0 ? void 0 : context.loadingMore))\n        return null;\n    return LoadingIndicator ? (React.createElement(\"div\", { className: 'str-chat__virtual-list__loading' },\n        React.createElement(LoadingIndicator, { size: 20 }))) : ((context === null || context === void 0 ? void 0 : context.head) || null);\n};\nexport var EmptyPlaceholder = function (_a) {\n    var context = _a.context;\n    var _b = useComponentContext('VirtualizedMessageList').EmptyStateIndicator, EmptyStateIndicator = _b === void 0 ? DefaultEmptyStateIndicator : _b;\n    return (React.createElement(React.Fragment, null, EmptyStateIndicator && (React.createElement(EmptyStateIndicator, { listType: (context === null || context === void 0 ? void 0 : context.threadList) ? 'thread' : 'message' }))));\n};\nexport var Footer = function () {\n    var TypingIndicator = useComponentContext('VirtualizedMessageList').TypingIndicator;\n    return TypingIndicator ? React.createElement(TypingIndicator, { avatarSize: 24 }) : null;\n};\nexport var messageRenderer = function (virtuosoIndex, _data, virtuosoContext) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var additionalMessageInputProps = virtuosoContext.additionalMessageInputProps, closeReactionSelectorOnClick = virtuosoContext.closeReactionSelectorOnClick, customMessageActions = virtuosoContext.customMessageActions, customMessageRenderer = virtuosoContext.customMessageRenderer, DateSeparator = virtuosoContext.DateSeparator, firstUnreadMessageId = virtuosoContext.firstUnreadMessageId, lastReadDate = virtuosoContext.lastReadDate, lastReadMessageId = virtuosoContext.lastReadMessageId, lastReceivedMessageId = virtuosoContext.lastReceivedMessageId, MessageUIComponent = virtuosoContext.Message, messageActions = virtuosoContext.messageActions, MessageSystem = virtuosoContext.MessageSystem, numItemsPrepended = virtuosoContext.numItemsPrepended, ownMessagesReadByOthers = virtuosoContext.ownMessagesReadByOthers, messageList = virtuosoContext.processedMessages, shouldGroupByUser = virtuosoContext.shouldGroupByUser, sortReactionDetails = virtuosoContext.sortReactionDetails, sortReactions = virtuosoContext.sortReactions, _h = virtuosoContext.unreadMessageCount, unreadMessageCount = _h === void 0 ? 0 : _h, UnreadMessagesSeparator = virtuosoContext.UnreadMessagesSeparator, virtuosoRef = virtuosoContext.virtuosoRef;\n    var streamMessageIndex = calculateItemIndex(virtuosoIndex, numItemsPrepended);\n    if (customMessageRenderer) {\n        return customMessageRenderer(messageList, streamMessageIndex);\n    }\n    var message = messageList[streamMessageIndex];\n    if (!message)\n        return React.createElement(\"div\", { style: { height: '1px' } }); // returning null or zero height breaks the virtuoso\n    if (isDateSeparatorMessage(message)) {\n        return DateSeparator ? React.createElement(DateSeparator, { date: message.date, unread: message.unread }) : null;\n    }\n    if (message.type === 'system') {\n        return MessageSystem ? React.createElement(MessageSystem, { message: message }) : null;\n    }\n    var groupedByUser = shouldGroupByUser &&\n        streamMessageIndex > 0 &&\n        ((_a = message.user) === null || _a === void 0 ? void 0 : _a.id) === ((_b = messageList[streamMessageIndex - 1].user) === null || _b === void 0 ? void 0 : _b.id);\n    var maybePrevMessage = messageList[streamMessageIndex - 1];\n    var maybeNextMessage = messageList[streamMessageIndex + 1];\n    var firstOfGroup = shouldGroupByUser &&\n        (((_c = message.user) === null || _c === void 0 ? void 0 : _c.id) !== ((_d = maybePrevMessage === null || maybePrevMessage === void 0 ? void 0 : maybePrevMessage.user) === null || _d === void 0 ? void 0 : _d.id) ||\n            (maybePrevMessage && isMessageEdited(maybePrevMessage)));\n    var endOfGroup = shouldGroupByUser &&\n        (((_e = message.user) === null || _e === void 0 ? void 0 : _e.id) !== ((_f = maybeNextMessage === null || maybeNextMessage === void 0 ? void 0 : maybeNextMessage.user) === null || _f === void 0 ? void 0 : _f.id) || isMessageEdited(message));\n    var createdAtTimestamp = message.created_at && new Date(message.created_at).getTime();\n    var lastReadTimestamp = lastReadDate === null || lastReadDate === void 0 ? void 0 : lastReadDate.getTime();\n    var isFirstMessage = streamMessageIndex === 0;\n    var isNewestMessage = lastReadMessageId === lastReceivedMessageId;\n    var isLastReadMessage = message.id === lastReadMessageId ||\n        (!unreadMessageCount && createdAtTimestamp === lastReadTimestamp);\n    var isFirstUnreadMessage = firstUnreadMessageId === message.id ||\n        (!!unreadMessageCount &&\n            createdAtTimestamp &&\n            lastReadTimestamp &&\n            createdAtTimestamp > lastReadTimestamp &&\n            isFirstMessage);\n    var showUnreadSeparatorAbove = !lastReadMessageId && isFirstUnreadMessage;\n    var showUnreadSeparatorBelow = isLastReadMessage && !isNewestMessage && (firstUnreadMessageId || !!unreadMessageCount);\n    return (React.createElement(React.Fragment, null,\n        showUnreadSeparatorAbove && (React.createElement(\"div\", { className: 'str-chat__unread-messages-separator-wrapper' },\n            React.createElement(UnreadMessagesSeparator, { unreadCount: unreadMessageCount }))),\n        React.createElement(Message, { additionalMessageInputProps: additionalMessageInputProps, autoscrollToBottom: (_g = virtuosoRef.current) === null || _g === void 0 ? void 0 : _g.autoscrollToBottom, closeReactionSelectorOnClick: closeReactionSelectorOnClick, customMessageActions: customMessageActions, endOfGroup: endOfGroup, firstOfGroup: firstOfGroup, groupedByUser: groupedByUser, lastReceivedId: lastReceivedMessageId, message: message, Message: MessageUIComponent, messageActions: messageActions, readBy: ownMessagesReadByOthers[message.id] || [], sortReactionDetails: sortReactionDetails, sortReactions: sortReactions }),\n        showUnreadSeparatorBelow && (React.createElement(\"div\", { className: 'str-chat__unread-messages-separator-wrapper' },\n            React.createElement(UnreadMessagesSeparator, { unreadCount: unreadMessageCount })))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}