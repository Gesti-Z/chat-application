{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport deepequal from 'react-fast-compare';\nimport emojiRegex from 'emoji-regex';\n/**\n * Following function validates a function which returns notification message.\n * It validates if the first parameter is function and also if return value of function is string or no.\n */\nexport var validateAndGetMessage = function (func, args) {\n  if (!func || typeof func !== 'function') return null;\n  // below is due to tests passing a single argument\n  // rather than an array.\n  if (!(args instanceof Array)) {\n    // @ts-expect-error\n    args = [args];\n  }\n  var returnValue = func.apply(void 0, args);\n  if (typeof returnValue !== 'string') return null;\n  return returnValue;\n};\n/**\n * Tell if the owner of the current message is muted\n */\nexport var isUserMuted = function (message, mutes) {\n  if (!mutes || !message) return false;\n  var userMuted = mutes.filter(function (el) {\n    var _a;\n    return el.target.id === ((_a = message.user) === null || _a === void 0 ? void 0 : _a.id);\n  });\n  return !!userMuted.length;\n};\nexport var MESSAGE_ACTIONS = {\n  delete: 'delete',\n  edit: 'edit',\n  flag: 'flag',\n  markUnread: 'markUnread',\n  mute: 'mute',\n  pin: 'pin',\n  quote: 'quote',\n  react: 'react',\n  reply: 'reply'\n};\n// @deprecated in favor of `channelCapabilities` - TODO: remove in next major release\nexport var defaultPinPermissions = {\n  commerce: {\n    admin: true,\n    anonymous: false,\n    channel_member: false,\n    channel_moderator: true,\n    guest: false,\n    member: false,\n    moderator: true,\n    owner: true,\n    user: false\n  },\n  gaming: {\n    admin: true,\n    anonymous: false,\n    channel_member: false,\n    channel_moderator: true,\n    guest: false,\n    member: false,\n    moderator: true,\n    owner: false,\n    user: false\n  },\n  livestream: {\n    admin: true,\n    anonymous: false,\n    channel_member: false,\n    channel_moderator: true,\n    guest: false,\n    member: false,\n    moderator: true,\n    owner: true,\n    user: false\n  },\n  messaging: {\n    admin: true,\n    anonymous: false,\n    channel_member: true,\n    channel_moderator: true,\n    guest: false,\n    member: true,\n    moderator: true,\n    owner: true,\n    user: false\n  },\n  team: {\n    admin: true,\n    anonymous: false,\n    channel_member: true,\n    channel_moderator: true,\n    guest: false,\n    member: true,\n    moderator: true,\n    owner: true,\n    user: false\n  }\n};\nexport var getMessageActions = function (actions, _a) {\n  var canDelete = _a.canDelete,\n    canEdit = _a.canEdit,\n    canFlag = _a.canFlag,\n    canMarkUnread = _a.canMarkUnread,\n    canMute = _a.canMute,\n    canPin = _a.canPin,\n    canQuote = _a.canQuote,\n    canReact = _a.canReact,\n    canReply = _a.canReply;\n  var messageActionsAfterPermission = [];\n  var messageActions = [];\n  if (actions && typeof actions === 'boolean') {\n    // If value of actions is true, then populate all the possible values\n    messageActions = Object.keys(MESSAGE_ACTIONS);\n  } else if (actions && actions.length > 0) {\n    messageActions = __spreadArray([], actions, true);\n  } else {\n    return [];\n  }\n  if (canDelete && messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.delete);\n  }\n  if (canEdit && messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.edit);\n  }\n  if (canFlag && messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.flag);\n  }\n  if (canMarkUnread && messageActions.indexOf(MESSAGE_ACTIONS.markUnread) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.markUnread);\n  }\n  if (canMute && messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.mute);\n  }\n  if (canPin && messageActions.indexOf(MESSAGE_ACTIONS.pin) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.pin);\n  }\n  if (canQuote && messageActions.indexOf(MESSAGE_ACTIONS.quote) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.quote);\n  }\n  if (canReact && messageActions.indexOf(MESSAGE_ACTIONS.react) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.react);\n  }\n  if (canReply && messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1) {\n    messageActionsAfterPermission.push(MESSAGE_ACTIONS.reply);\n  }\n  return messageActionsAfterPermission;\n};\nexport var ACTIONS_NOT_WORKING_IN_THREAD = [MESSAGE_ACTIONS.pin, MESSAGE_ACTIONS.react, MESSAGE_ACTIONS.reply, MESSAGE_ACTIONS.markUnread];\nexport var showMessageActionsBox = function (actions, inThread) {\n  if (actions.length === 0) {\n    return false;\n  }\n  if (inThread && actions.filter(function (action) {\n    return !ACTIONS_NOT_WORKING_IN_THREAD.includes(action);\n  }).length === 0) {\n    return false;\n  }\n  if (actions.length === 1 && (actions.includes('react') || actions.includes('reply'))) {\n    return false;\n  }\n  if (actions.length === 2 && actions.includes('react') && actions.includes('reply')) {\n    return false;\n  }\n  return true;\n};\nvar areMessagesEqual = function (prevMessage, nextMessage) {\n  var _a, _b, _c, _d, _e, _f;\n  return prevMessage.deleted_at === nextMessage.deleted_at && ((_a = prevMessage.latest_reactions) === null || _a === void 0 ? void 0 : _a.length) === ((_b = nextMessage.latest_reactions) === null || _b === void 0 ? void 0 : _b.length) && ((_c = prevMessage.own_reactions) === null || _c === void 0 ? void 0 : _c.length) === ((_d = nextMessage.own_reactions) === null || _d === void 0 ? void 0 : _d.length) && prevMessage.pinned === nextMessage.pinned && prevMessage.reply_count === nextMessage.reply_count && prevMessage.status === nextMessage.status && prevMessage.text === nextMessage.text && prevMessage.type === nextMessage.type && prevMessage.updated_at === nextMessage.updated_at && ((_e = prevMessage.user) === null || _e === void 0 ? void 0 : _e.updated_at) === ((_f = nextMessage.user) === null || _f === void 0 ? void 0 : _f.updated_at);\n};\nexport var areMessagePropsEqual = function (prevProps, nextProps) {\n  var prevMessage = prevProps.message,\n    prevMessageUI = prevProps.Message;\n  var nextMessage = nextProps.message,\n    nextMessageUI = nextProps.Message;\n  if (prevMessageUI !== nextMessageUI) return false;\n  if (prevProps.endOfGroup !== nextProps.endOfGroup) return false;\n  if (nextProps.showDetailedReactions !== prevProps.showDetailedReactions) {\n    return false;\n  }\n  var messagesAreEqual = areMessagesEqual(prevMessage, nextMessage);\n  if (!messagesAreEqual) return false;\n  var deepEqualProps = deepequal(nextProps.messageActions, prevProps.messageActions) && deepequal(nextProps.readBy, prevProps.readBy) && deepequal(nextProps.highlighted, prevProps.highlighted) && deepequal(nextProps.groupStyles, prevProps.groupStyles) &&\n  // last 3 messages can have different group styles\n  deepequal(nextProps.mutes, prevProps.mutes) && deepequal(nextProps.lastReceivedId, prevProps.lastReceivedId);\n  if (!deepEqualProps) return false;\n  return prevProps.messageListRect === nextProps.messageListRect // MessageList wrapper layout changes\n  ;\n};\nexport var areMessageUIPropsEqual = function (prevProps, nextProps) {\n  var _a, _b, _c, _d;\n  var prevLastReceivedId = prevProps.lastReceivedId,\n    prevMessage = prevProps.message;\n  var nextLastReceivedId = nextProps.lastReceivedId,\n    nextMessage = nextProps.message;\n  if (prevProps.editing !== nextProps.editing) return false;\n  if (prevProps.highlighted !== nextProps.highlighted) return false;\n  if (prevProps.endOfGroup !== nextProps.endOfGroup) return false;\n  if (((_a = prevProps.mutes) === null || _a === void 0 ? void 0 : _a.length) !== ((_b = nextProps.mutes) === null || _b === void 0 ? void 0 : _b.length)) return false;\n  if (((_c = prevProps.readBy) === null || _c === void 0 ? void 0 : _c.length) !== ((_d = nextProps.readBy) === null || _d === void 0 ? void 0 : _d.length)) return false;\n  if (prevProps.showDetailedReactions !== nextProps.showDetailedReactions) {\n    return false;\n  }\n  if ((prevMessage.id === prevLastReceivedId || prevMessage.id === nextLastReceivedId) && prevLastReceivedId !== nextLastReceivedId) {\n    return false;\n  }\n  return areMessagesEqual(prevMessage, nextMessage);\n};\nexport var messageHasReactions = function (message) {\n  var _a;\n  return Object.values((_a = message === null || message === void 0 ? void 0 : message.reaction_counts) !== null && _a !== void 0 ? _a : {}).some(function (count) {\n    return count > 0;\n  });\n};\nexport var messageHasAttachments = function (message) {\n  return !!(message === null || message === void 0 ? void 0 : message.attachments) && !!message.attachments.length;\n};\nexport var getImages = function (message) {\n  if (!(message === null || message === void 0 ? void 0 : message.attachments)) {\n    return [];\n  }\n  return message.attachments.filter(function (item) {\n    return item.type === 'image';\n  });\n};\nexport var getNonImageAttachments = function (message) {\n  if (!(message === null || message === void 0 ? void 0 : message.attachments)) {\n    return [];\n  }\n  return message.attachments.filter(function (item) {\n    return item.type !== 'image';\n  });\n};\n/**\n * Default Tooltip Username mapper implementation.\n *\n * @param user the user.\n */\nexport var mapToUserNameOrId = function (user) {\n  return user.name || user.id;\n};\nexport var getReadByTooltipText = function (users, t, client, tooltipUserNameMapper) {\n  var outStr = '';\n  if (!t) {\n    throw new Error('getReadByTooltipText was called, but translation function is not available');\n  }\n  if (!tooltipUserNameMapper) {\n    throw new Error('getReadByTooltipText was called, but tooltipUserNameMapper function is not available');\n  }\n  // first filter out client user, so restLength won't count it\n  var otherUsers = users.filter(function (item) {\n    return item && (client === null || client === void 0 ? void 0 : client.user) && item.id !== client.user.id;\n  }).map(tooltipUserNameMapper);\n  var slicedArr = otherUsers.slice(0, 5);\n  var restLength = otherUsers.length - slicedArr.length;\n  if (slicedArr.length === 1) {\n    outStr = \"\".concat(slicedArr[0], \" \");\n  } else if (slicedArr.length === 2) {\n    // joins all with \"and\" but =no commas\n    // example: \"bob and sam\"\n    outStr = t('{{ firstUser }} and {{ secondUser }}', {\n      firstUser: slicedArr[0],\n      secondUser: slicedArr[1]\n    });\n  } else if (slicedArr.length > 2) {\n    // joins all with commas, but last one gets \", and\" (oxford comma!)\n    // example: \"bob, joe, sam and 4 more\"\n    if (restLength === 0) {\n      // mutate slicedArr to remove last user to display it separately\n      var lastUser = slicedArr.splice(slicedArr.length - 1, 1);\n      outStr = t('{{ commaSeparatedUsers }}, and {{ lastUser }}', {\n        commaSeparatedUsers: slicedArr.join(', '),\n        lastUser: lastUser\n      });\n    } else {\n      outStr = t('{{ commaSeparatedUsers }} and {{ moreCount }} more', {\n        commaSeparatedUsers: slicedArr.join(', '),\n        moreCount: restLength\n      });\n    }\n  }\n  return outStr;\n};\nexport var isOnlyEmojis = function (text) {\n  if (!text) return false;\n  var noEmojis = text.replace(emojiRegex(), '');\n  var noSpace = noEmojis.replace(/[\\s\\n]/gm, '');\n  return !noSpace;\n};\nexport var isMessageBounced = function (message) {\n  var _a;\n  return message.type === 'error' && ((_a = message.moderation_details) === null || _a === void 0 ? void 0 : _a.action) === 'MESSAGE_RESPONSE_ACTION_BOUNCE';\n};\nexport var isMessageEdited = function (message) {\n  return !!message.message_text_updated_at;\n};","map":{"version":3,"names":["__spreadArray","deepequal","emojiRegex","validateAndGetMessage","func","args","Array","returnValue","apply","isUserMuted","message","mutes","userMuted","filter","el","_a","target","id","user","length","MESSAGE_ACTIONS","delete","edit","flag","markUnread","mute","pin","quote","react","reply","defaultPinPermissions","commerce","admin","anonymous","channel_member","channel_moderator","guest","member","moderator","owner","gaming","livestream","messaging","team","getMessageActions","actions","canDelete","canEdit","canFlag","canMarkUnread","canMute","canPin","canQuote","canReact","canReply","messageActionsAfterPermission","messageActions","Object","keys","indexOf","push","ACTIONS_NOT_WORKING_IN_THREAD","showMessageActionsBox","inThread","action","includes","areMessagesEqual","prevMessage","nextMessage","_b","_c","_d","_e","_f","deleted_at","latest_reactions","own_reactions","pinned","reply_count","status","text","type","updated_at","areMessagePropsEqual","prevProps","nextProps","prevMessageUI","Message","nextMessageUI","endOfGroup","showDetailedReactions","messagesAreEqual","deepEqualProps","readBy","highlighted","groupStyles","lastReceivedId","messageListRect","areMessageUIPropsEqual","prevLastReceivedId","nextLastReceivedId","editing","messageHasReactions","values","reaction_counts","some","count","messageHasAttachments","attachments","getImages","item","getNonImageAttachments","mapToUserNameOrId","name","getReadByTooltipText","users","t","client","tooltipUserNameMapper","outStr","Error","otherUsers","map","slicedArr","slice","restLength","concat","firstUser","secondUser","lastUser","splice","commaSeparatedUsers","join","moreCount","isOnlyEmojis","noEmojis","replace","noSpace","isMessageBounced","moderation_details","isMessageEdited","message_text_updated_at"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Message/utils.js"],"sourcesContent":["import { __spreadArray } from \"tslib\";\nimport deepequal from 'react-fast-compare';\nimport emojiRegex from 'emoji-regex';\n/**\n * Following function validates a function which returns notification message.\n * It validates if the first parameter is function and also if return value of function is string or no.\n */\nexport var validateAndGetMessage = function (func, args) {\n    if (!func || typeof func !== 'function')\n        return null;\n    // below is due to tests passing a single argument\n    // rather than an array.\n    if (!(args instanceof Array)) {\n        // @ts-expect-error\n        args = [args];\n    }\n    var returnValue = func.apply(void 0, args);\n    if (typeof returnValue !== 'string')\n        return null;\n    return returnValue;\n};\n/**\n * Tell if the owner of the current message is muted\n */\nexport var isUserMuted = function (message, mutes) {\n    if (!mutes || !message)\n        return false;\n    var userMuted = mutes.filter(function (el) { var _a; return el.target.id === ((_a = message.user) === null || _a === void 0 ? void 0 : _a.id); });\n    return !!userMuted.length;\n};\nexport var MESSAGE_ACTIONS = {\n    delete: 'delete',\n    edit: 'edit',\n    flag: 'flag',\n    markUnread: 'markUnread',\n    mute: 'mute',\n    pin: 'pin',\n    quote: 'quote',\n    react: 'react',\n    reply: 'reply',\n};\n// @deprecated in favor of `channelCapabilities` - TODO: remove in next major release\nexport var defaultPinPermissions = {\n    commerce: {\n        admin: true,\n        anonymous: false,\n        channel_member: false,\n        channel_moderator: true,\n        guest: false,\n        member: false,\n        moderator: true,\n        owner: true,\n        user: false,\n    },\n    gaming: {\n        admin: true,\n        anonymous: false,\n        channel_member: false,\n        channel_moderator: true,\n        guest: false,\n        member: false,\n        moderator: true,\n        owner: false,\n        user: false,\n    },\n    livestream: {\n        admin: true,\n        anonymous: false,\n        channel_member: false,\n        channel_moderator: true,\n        guest: false,\n        member: false,\n        moderator: true,\n        owner: true,\n        user: false,\n    },\n    messaging: {\n        admin: true,\n        anonymous: false,\n        channel_member: true,\n        channel_moderator: true,\n        guest: false,\n        member: true,\n        moderator: true,\n        owner: true,\n        user: false,\n    },\n    team: {\n        admin: true,\n        anonymous: false,\n        channel_member: true,\n        channel_moderator: true,\n        guest: false,\n        member: true,\n        moderator: true,\n        owner: true,\n        user: false,\n    },\n};\nexport var getMessageActions = function (actions, _a) {\n    var canDelete = _a.canDelete, canEdit = _a.canEdit, canFlag = _a.canFlag, canMarkUnread = _a.canMarkUnread, canMute = _a.canMute, canPin = _a.canPin, canQuote = _a.canQuote, canReact = _a.canReact, canReply = _a.canReply;\n    var messageActionsAfterPermission = [];\n    var messageActions = [];\n    if (actions && typeof actions === 'boolean') {\n        // If value of actions is true, then populate all the possible values\n        messageActions = Object.keys(MESSAGE_ACTIONS);\n    }\n    else if (actions && actions.length > 0) {\n        messageActions = __spreadArray([], actions, true);\n    }\n    else {\n        return [];\n    }\n    if (canDelete && messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.delete);\n    }\n    if (canEdit && messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.edit);\n    }\n    if (canFlag && messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.flag);\n    }\n    if (canMarkUnread && messageActions.indexOf(MESSAGE_ACTIONS.markUnread) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.markUnread);\n    }\n    if (canMute && messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.mute);\n    }\n    if (canPin && messageActions.indexOf(MESSAGE_ACTIONS.pin) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.pin);\n    }\n    if (canQuote && messageActions.indexOf(MESSAGE_ACTIONS.quote) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.quote);\n    }\n    if (canReact && messageActions.indexOf(MESSAGE_ACTIONS.react) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.react);\n    }\n    if (canReply && messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1) {\n        messageActionsAfterPermission.push(MESSAGE_ACTIONS.reply);\n    }\n    return messageActionsAfterPermission;\n};\nexport var ACTIONS_NOT_WORKING_IN_THREAD = [\n    MESSAGE_ACTIONS.pin,\n    MESSAGE_ACTIONS.react,\n    MESSAGE_ACTIONS.reply,\n    MESSAGE_ACTIONS.markUnread,\n];\nexport var showMessageActionsBox = function (actions, inThread) {\n    if (actions.length === 0) {\n        return false;\n    }\n    if (inThread &&\n        actions.filter(function (action) { return !ACTIONS_NOT_WORKING_IN_THREAD.includes(action); }).length === 0) {\n        return false;\n    }\n    if (actions.length === 1 && (actions.includes('react') || actions.includes('reply'))) {\n        return false;\n    }\n    if (actions.length === 2 && actions.includes('react') && actions.includes('reply')) {\n        return false;\n    }\n    return true;\n};\nvar areMessagesEqual = function (prevMessage, nextMessage) {\n    var _a, _b, _c, _d, _e, _f;\n    return prevMessage.deleted_at === nextMessage.deleted_at &&\n        ((_a = prevMessage.latest_reactions) === null || _a === void 0 ? void 0 : _a.length) === ((_b = nextMessage.latest_reactions) === null || _b === void 0 ? void 0 : _b.length) &&\n        ((_c = prevMessage.own_reactions) === null || _c === void 0 ? void 0 : _c.length) === ((_d = nextMessage.own_reactions) === null || _d === void 0 ? void 0 : _d.length) &&\n        prevMessage.pinned === nextMessage.pinned &&\n        prevMessage.reply_count === nextMessage.reply_count &&\n        prevMessage.status === nextMessage.status &&\n        prevMessage.text === nextMessage.text &&\n        prevMessage.type === nextMessage.type &&\n        prevMessage.updated_at === nextMessage.updated_at &&\n        ((_e = prevMessage.user) === null || _e === void 0 ? void 0 : _e.updated_at) === ((_f = nextMessage.user) === null || _f === void 0 ? void 0 : _f.updated_at);\n};\nexport var areMessagePropsEqual = function (prevProps, nextProps) {\n    var prevMessage = prevProps.message, prevMessageUI = prevProps.Message;\n    var nextMessage = nextProps.message, nextMessageUI = nextProps.Message;\n    if (prevMessageUI !== nextMessageUI)\n        return false;\n    if (prevProps.endOfGroup !== nextProps.endOfGroup)\n        return false;\n    if (nextProps.showDetailedReactions !== prevProps.showDetailedReactions) {\n        return false;\n    }\n    var messagesAreEqual = areMessagesEqual(prevMessage, nextMessage);\n    if (!messagesAreEqual)\n        return false;\n    var deepEqualProps = deepequal(nextProps.messageActions, prevProps.messageActions) &&\n        deepequal(nextProps.readBy, prevProps.readBy) &&\n        deepequal(nextProps.highlighted, prevProps.highlighted) &&\n        deepequal(nextProps.groupStyles, prevProps.groupStyles) && // last 3 messages can have different group styles\n        deepequal(nextProps.mutes, prevProps.mutes) &&\n        deepequal(nextProps.lastReceivedId, prevProps.lastReceivedId);\n    if (!deepEqualProps)\n        return false;\n    return (prevProps.messageListRect === nextProps.messageListRect // MessageList wrapper layout changes\n    );\n};\nexport var areMessageUIPropsEqual = function (prevProps, nextProps) {\n    var _a, _b, _c, _d;\n    var prevLastReceivedId = prevProps.lastReceivedId, prevMessage = prevProps.message;\n    var nextLastReceivedId = nextProps.lastReceivedId, nextMessage = nextProps.message;\n    if (prevProps.editing !== nextProps.editing)\n        return false;\n    if (prevProps.highlighted !== nextProps.highlighted)\n        return false;\n    if (prevProps.endOfGroup !== nextProps.endOfGroup)\n        return false;\n    if (((_a = prevProps.mutes) === null || _a === void 0 ? void 0 : _a.length) !== ((_b = nextProps.mutes) === null || _b === void 0 ? void 0 : _b.length))\n        return false;\n    if (((_c = prevProps.readBy) === null || _c === void 0 ? void 0 : _c.length) !== ((_d = nextProps.readBy) === null || _d === void 0 ? void 0 : _d.length))\n        return false;\n    if (prevProps.showDetailedReactions !== nextProps.showDetailedReactions) {\n        return false;\n    }\n    if ((prevMessage.id === prevLastReceivedId || prevMessage.id === nextLastReceivedId) &&\n        prevLastReceivedId !== nextLastReceivedId) {\n        return false;\n    }\n    return areMessagesEqual(prevMessage, nextMessage);\n};\nexport var messageHasReactions = function (message) { var _a; return Object.values((_a = message === null || message === void 0 ? void 0 : message.reaction_counts) !== null && _a !== void 0 ? _a : {}).some(function (count) { return count > 0; }); };\nexport var messageHasAttachments = function (message) { return !!(message === null || message === void 0 ? void 0 : message.attachments) && !!message.attachments.length; };\nexport var getImages = function (message) {\n    if (!(message === null || message === void 0 ? void 0 : message.attachments)) {\n        return [];\n    }\n    return message.attachments.filter(function (item) { return item.type === 'image'; });\n};\nexport var getNonImageAttachments = function (message) {\n    if (!(message === null || message === void 0 ? void 0 : message.attachments)) {\n        return [];\n    }\n    return message.attachments.filter(function (item) { return item.type !== 'image'; });\n};\n/**\n * Default Tooltip Username mapper implementation.\n *\n * @param user the user.\n */\nexport var mapToUserNameOrId = function (user) { return user.name || user.id; };\nexport var getReadByTooltipText = function (users, t, client, tooltipUserNameMapper) {\n    var outStr = '';\n    if (!t) {\n        throw new Error('getReadByTooltipText was called, but translation function is not available');\n    }\n    if (!tooltipUserNameMapper) {\n        throw new Error('getReadByTooltipText was called, but tooltipUserNameMapper function is not available');\n    }\n    // first filter out client user, so restLength won't count it\n    var otherUsers = users\n        .filter(function (item) { return item && (client === null || client === void 0 ? void 0 : client.user) && item.id !== client.user.id; })\n        .map(tooltipUserNameMapper);\n    var slicedArr = otherUsers.slice(0, 5);\n    var restLength = otherUsers.length - slicedArr.length;\n    if (slicedArr.length === 1) {\n        outStr = \"\".concat(slicedArr[0], \" \");\n    }\n    else if (slicedArr.length === 2) {\n        // joins all with \"and\" but =no commas\n        // example: \"bob and sam\"\n        outStr = t('{{ firstUser }} and {{ secondUser }}', {\n            firstUser: slicedArr[0],\n            secondUser: slicedArr[1],\n        });\n    }\n    else if (slicedArr.length > 2) {\n        // joins all with commas, but last one gets \", and\" (oxford comma!)\n        // example: \"bob, joe, sam and 4 more\"\n        if (restLength === 0) {\n            // mutate slicedArr to remove last user to display it separately\n            var lastUser = slicedArr.splice(slicedArr.length - 1, 1);\n            outStr = t('{{ commaSeparatedUsers }}, and {{ lastUser }}', {\n                commaSeparatedUsers: slicedArr.join(', '),\n                lastUser: lastUser,\n            });\n        }\n        else {\n            outStr = t('{{ commaSeparatedUsers }} and {{ moreCount }} more', {\n                commaSeparatedUsers: slicedArr.join(', '),\n                moreCount: restLength,\n            });\n        }\n    }\n    return outStr;\n};\nexport var isOnlyEmojis = function (text) {\n    if (!text)\n        return false;\n    var noEmojis = text.replace(emojiRegex(), '');\n    var noSpace = noEmojis.replace(/[\\s\\n]/gm, '');\n    return !noSpace;\n};\nexport var isMessageBounced = function (message) {\n    var _a;\n    return message.type === 'error' &&\n        ((_a = message.moderation_details) === null || _a === void 0 ? void 0 : _a.action) === 'MESSAGE_RESPONSE_ACTION_BOUNCE';\n};\nexport var isMessageEdited = function (message) { return !!message.message_text_updated_at; };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}