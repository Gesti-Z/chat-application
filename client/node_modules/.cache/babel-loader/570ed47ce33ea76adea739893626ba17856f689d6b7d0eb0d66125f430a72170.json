{"ast":null,"code":"import React from 'react';\nimport { FileSizeIndicator, PlaybackRateButton, PlayButton, WaveProgressBar } from './components';\nimport { useAudioController } from './hooks/useAudioController';\nimport { displayDuration } from './utils';\nimport { FileIcon } from '../ReactFileUtilities';\nimport { useTranslationContext } from '../../context';\nvar rootClassName = 'str-chat__message-attachment__voice-recording-widget';\nexport var VoiceRecordingPlayer = function (_a) {\n  var attachment = _a.attachment,\n    playbackRates = _a.playbackRates;\n  var t = useTranslationContext('VoiceRecordingPlayer').t;\n  var asset_url = attachment.asset_url,\n    duration = attachment.duration,\n    mime_type = attachment.mime_type,\n    _b = attachment.title,\n    title = _b === void 0 ? t('Voice message') : _b,\n    waveform_data = attachment.waveform_data;\n  var _c = useAudioController({\n      durationSeconds: duration !== null && duration !== void 0 ? duration : 0,\n      playbackRates: playbackRates\n    }),\n    audioRef = _c.audioRef,\n    increasePlaybackRate = _c.increasePlaybackRate,\n    isPlaying = _c.isPlaying,\n    playbackRate = _c.playbackRate,\n    progress = _c.progress,\n    secondsElapsed = _c.secondsElapsed,\n    seek = _c.seek,\n    togglePlay = _c.togglePlay;\n  if (!asset_url) return null;\n  return React.createElement(\"div\", {\n    className: rootClassName,\n    \"data-testid\": 'voice-recording-widget'\n  }, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: mime_type\n  })), React.createElement(PlayButton, {\n    isPlaying: isPlaying,\n    onClick: togglePlay\n  }), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__metadata'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__title',\n    \"data-testid\": 'voice-recording-title',\n    title: title\n  }, title), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__audio-state'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__timer'\n  }, attachment.duration ? displayDuration(secondsElapsed) : React.createElement(FileSizeIndicator, {\n    fileSize: attachment.file_size,\n    maximumFractionDigits: 0\n  })), React.createElement(WaveProgressBar, {\n    progress: progress,\n    seek: seek,\n    waveformData: waveform_data || []\n  }))), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__right-section'\n  }, isPlaying ? React.createElement(PlaybackRateButton, {\n    disabled: !audioRef.current,\n    onClick: increasePlaybackRate\n  }, playbackRate.toFixed(1), \"x\") : React.createElement(FileIcon, {\n    big: true,\n    mimeType: mime_type,\n    size: 40,\n    version: '2'\n  })));\n};\nexport var QuotedVoiceRecording = function (_a) {\n  var attachment = _a.attachment;\n  var t = useTranslationContext().t;\n  var title = attachment.title || t('Voice message');\n  return React.createElement(\"div\", {\n    className: rootClassName,\n    \"data-testid\": 'quoted-voice-recording-widget'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__metadata'\n  }, title && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__title',\n    \"data-testid\": 'voice-recording-title',\n    title: title\n  }, title), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__audio-state'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment__voice-recording-widget__timer'\n  }, attachment.duration ? displayDuration(attachment.duration) : React.createElement(FileSizeIndicator, {\n    fileSize: attachment.file_size,\n    maximumFractionDigits: 0\n  })))), React.createElement(FileIcon, {\n    big: true,\n    mimeType: attachment.mime_type,\n    size: 34,\n    version: '2'\n  }));\n};\nexport var VoiceRecording = function (_a) {\n  var attachment = _a.attachment,\n    isQuoted = _a.isQuoted;\n  return isQuoted ? React.createElement(QuotedVoiceRecording, {\n    attachment: attachment\n  }) : React.createElement(VoiceRecordingPlayer, {\n    attachment: attachment\n  });\n};","map":{"version":3,"names":["React","FileSizeIndicator","PlaybackRateButton","PlayButton","WaveProgressBar","useAudioController","displayDuration","FileIcon","useTranslationContext","rootClassName","VoiceRecordingPlayer","_a","attachment","playbackRates","t","asset_url","duration","mime_type","_b","title","waveform_data","_c","durationSeconds","audioRef","increasePlaybackRate","isPlaying","playbackRate","progress","secondsElapsed","seek","togglePlay","createElement","className","ref","src","type","onClick","fileSize","file_size","maximumFractionDigits","waveformData","disabled","current","toFixed","big","mimeType","size","version","QuotedVoiceRecording","VoiceRecording","isQuoted"],"sources":["C:/Users/Gesti/Desktop/chat_application/client/node_modules/stream-chat-react/dist/components/Attachment/VoiceRecording.js"],"sourcesContent":["import React from 'react';\nimport { FileSizeIndicator, PlaybackRateButton, PlayButton, WaveProgressBar } from './components';\nimport { useAudioController } from './hooks/useAudioController';\nimport { displayDuration } from './utils';\nimport { FileIcon } from '../ReactFileUtilities';\nimport { useTranslationContext } from '../../context';\nvar rootClassName = 'str-chat__message-attachment__voice-recording-widget';\nexport var VoiceRecordingPlayer = function (_a) {\n    var attachment = _a.attachment, playbackRates = _a.playbackRates;\n    var t = useTranslationContext('VoiceRecordingPlayer').t;\n    var asset_url = attachment.asset_url, duration = attachment.duration, mime_type = attachment.mime_type, _b = attachment.title, title = _b === void 0 ? t('Voice message') : _b, waveform_data = attachment.waveform_data;\n    var _c = useAudioController({\n        durationSeconds: duration !== null && duration !== void 0 ? duration : 0,\n        playbackRates: playbackRates,\n    }), audioRef = _c.audioRef, increasePlaybackRate = _c.increasePlaybackRate, isPlaying = _c.isPlaying, playbackRate = _c.playbackRate, progress = _c.progress, secondsElapsed = _c.secondsElapsed, seek = _c.seek, togglePlay = _c.togglePlay;\n    if (!asset_url)\n        return null;\n    return (React.createElement(\"div\", { className: rootClassName, \"data-testid\": 'voice-recording-widget' },\n        React.createElement(\"audio\", { ref: audioRef },\n            React.createElement(\"source\", { \"data-testid\": 'audio-source', src: asset_url, type: mime_type })),\n        React.createElement(PlayButton, { isPlaying: isPlaying, onClick: togglePlay }),\n        React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__metadata' },\n            React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__title', \"data-testid\": 'voice-recording-title', title: title }, title),\n            React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__audio-state' },\n                React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__timer' }, attachment.duration ? (displayDuration(secondsElapsed)) : (React.createElement(FileSizeIndicator, { fileSize: attachment.file_size, maximumFractionDigits: 0 }))),\n                React.createElement(WaveProgressBar, { progress: progress, seek: seek, waveformData: waveform_data || [] }))),\n        React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__right-section' }, isPlaying ? (React.createElement(PlaybackRateButton, { disabled: !audioRef.current, onClick: increasePlaybackRate },\n            playbackRate.toFixed(1),\n            \"x\")) : (React.createElement(FileIcon, { big: true, mimeType: mime_type, size: 40, version: '2' })))));\n};\nexport var QuotedVoiceRecording = function (_a) {\n    var attachment = _a.attachment;\n    var t = useTranslationContext().t;\n    var title = attachment.title || t('Voice message');\n    return (React.createElement(\"div\", { className: rootClassName, \"data-testid\": 'quoted-voice-recording-widget' },\n        React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__metadata' },\n            title && (React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__title', \"data-testid\": 'voice-recording-title', title: title }, title)),\n            React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__audio-state' },\n                React.createElement(\"div\", { className: 'str-chat__message-attachment__voice-recording-widget__timer' }, attachment.duration ? (displayDuration(attachment.duration)) : (React.createElement(FileSizeIndicator, { fileSize: attachment.file_size, maximumFractionDigits: 0 }))))),\n        React.createElement(FileIcon, { big: true, mimeType: attachment.mime_type, size: 34, version: '2' })));\n};\nexport var VoiceRecording = function (_a) {\n    var attachment = _a.attachment, isQuoted = _a.isQuoted;\n    return isQuoted ? (React.createElement(QuotedVoiceRecording, { attachment: attachment })) : (React.createElement(VoiceRecordingPlayer, { attachment: attachment }));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}